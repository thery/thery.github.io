<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>psi.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script><style type="text/css">pre { line-height: 125%; }
td.linenos pre { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
span.linenos { color: #000000; background-color: #f0f0f0; padding-left: 5px; padding-right: 5px; }
td.linenos pre.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
span.linenos.special { color: #000000; background-color: #ffffc0; padding-left: 5px; padding-right: 5px; }
.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #555753; font-style: italic } /* Comment */
.highlight .err { color: #a40000; border: 1px solid #cc0000 } /* Error */
.highlight .g { color: #000000 } /* Generic */
.highlight .k { color: #8f5902 } /* Keyword */
.highlight .l { color: #2e3436 } /* Literal */
.highlight .n { color: #000000 } /* Name */
.highlight .o { color: #000000 } /* Operator */
.highlight .x { color: #2e3436 } /* Other */
.highlight .p { color: #000000 } /* Punctuation */
.highlight .ch { color: #555753; font-weight: bold; font-style: italic } /* Comment.Hashbang */
.highlight .cm { color: #555753; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #3465a4; font-style: italic } /* Comment.Preproc */
.highlight .cpf { color: #555753; font-style: italic } /* Comment.PreprocFile */
.highlight .c1 { color: #555753; font-style: italic } /* Comment.Single */
.highlight .cs { color: #3465a4; font-weight: bold; font-style: italic } /* Comment.Special */
.highlight .gd { color: #a40000 } /* Generic.Deleted */
.highlight .ge { color: #000000; font-style: italic } /* Generic.Emph */
.highlight .gr { color: #a40000 } /* Generic.Error */
.highlight .gh { color: #a40000; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #4e9a06 } /* Generic.Inserted */
.highlight .go { color: #000000; font-style: italic } /* Generic.Output */
.highlight .gp { color: #8f5902 } /* Generic.Prompt */
.highlight .gs { color: #000000; font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #000000; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #000000; font-style: italic } /* Generic.Traceback */
.highlight .kc { color: #204a87; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #4e9a06; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #4e9a06; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #204a87 } /* Keyword.Pseudo */
.highlight .kr { color: #8f5902 } /* Keyword.Reserved */
.highlight .kt { color: #204a87 } /* Keyword.Type */
.highlight .ld { color: #2e3436 } /* Literal.Date */
.highlight .m { color: #2e3436 } /* Literal.Number */
.highlight .s { color: #ad7fa8 } /* Literal.String */
.highlight .na { color: #c4a000 } /* Name.Attribute */
.highlight .nb { color: #75507b } /* Name.Builtin */
.highlight .nc { color: #204a87 } /* Name.Class */
.highlight .no { color: #ce5c00 } /* Name.Constant */
.highlight .nd { color: #3465a4; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #c4a000; text-decoration: underline } /* Name.Entity */
.highlight .ne { color: #cc0000 } /* Name.Exception */
.highlight .nf { color: #a40000 } /* Name.Function */
.highlight .nl { color: #3465a4; font-weight: bold } /* Name.Label */
.highlight .nn { color: #000000 } /* Name.Namespace */
.highlight .nx { color: #000000 } /* Name.Other */
.highlight .py { color: #000000 } /* Name.Property */
.highlight .nt { color: #a40000 } /* Name.Tag */
.highlight .nv { color: #ce5c00 } /* Name.Variable */
.highlight .ow { color: #8f5902 } /* Operator.Word */
.highlight .w { color: #d3d7cf; text-decoration: underline } /* Text.Whitespace */
.highlight .mb { color: #2e3436 } /* Literal.Number.Bin */
.highlight .mf { color: #2e3436 } /* Literal.Number.Float */
.highlight .mh { color: #2e3436 } /* Literal.Number.Hex */
.highlight .mi { color: #2e3436 } /* Literal.Number.Integer */
.highlight .mo { color: #2e3436 } /* Literal.Number.Oct */
.highlight .sa { color: #ad7fa8 } /* Literal.String.Affix */
.highlight .sb { color: #ad7fa8 } /* Literal.String.Backtick */
.highlight .sc { color: #ad7fa8; font-weight: bold } /* Literal.String.Char */
.highlight .dl { color: #ad7fa8 } /* Literal.String.Delimiter */
.highlight .sd { color: #ad7fa8 } /* Literal.String.Doc */
.highlight .s2 { color: #ad7fa8 } /* Literal.String.Double */
.highlight .se { color: #ad7fa8; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #ad7fa8; text-decoration: underline } /* Literal.String.Heredoc */
.highlight .si { color: #ce5c00 } /* Literal.String.Interpol */
.highlight .sx { color: #ad7fa8 } /* Literal.String.Other */
.highlight .sr { color: #ad7fa8 } /* Literal.String.Regex */
.highlight .s1 { color: #ad7fa8 } /* Literal.String.Single */
.highlight .ss { color: #8f5902 } /* Literal.String.Symbol */
.highlight .bp { color: #5c35cc } /* Name.Builtin.Pseudo */
.highlight .fm { color: #a40000 } /* Name.Function.Magic */
.highlight .vc { color: #ce5c00 } /* Name.Variable.Class */
.highlight .vg { color: #ce5c00; text-decoration: underline } /* Name.Variable.Global */
.highlight .vi { color: #ce5c00 } /* Name.Variable.Instance */
.highlight .vm { color: #ce5c00 } /* Name.Variable.Magic */
.highlight .il { color: #2e3436 } /* Literal.Number.Integer.Long */</style></head><body><article class="alectryon-root alectryon-centered alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.13.0+0.13.0. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="highlight"><span class="sd">(******************************************************************************)</span>
<span class="c">(*                                                                            *)</span>
<span class="c">(*                                    PSI                                     *)</span>
<span class="c">(*     psi n = the psi function                                               *)</span>
<span class="c">(*                                                                            *)</span>
<span class="c">(*                                                                            *)</span>
<span class="c">(*                                                                            *)</span>
<span class="sd">(******************************************************************************)</span>

</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk0"><span class="highlight"><span class="kn">From</span> mathcomp <span class="kn">Require Import</span> all_ssreflect all_algebra finmap.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-messages"><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ | _ ]&quot;</span> was already used <span class="kr">in</span> scope
fun_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ : _ | _ ]&quot;</span> was already used <span class="kr">in</span>
scope fun_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ in _ &amp; _ | _ ]&quot;</span> was already used
<span class="kr">in</span> scope fun_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ in _ &amp; _ ]&quot;</span> was already used <span class="kr">in</span>
scope fun_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ in _ | _ ]&quot;</span> was already used <span class="kr">in</span>
scope fun_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;[ rel _ _ in _ ]&quot;</span> was already used <span class="kr">in</span> scope
fun_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ + _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ - _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt;= _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt; _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ &gt;= _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ &gt; _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt;= _ &lt;= _&quot;</span> was already used <span class="kr">in</span> scope
nat_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt; _ &lt;= _&quot;</span> was already used <span class="kr">in</span> scope
nat_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt;= _ &lt; _&quot;</span> was already used <span class="kr">in</span> scope
nat_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ &lt; _ &lt; _&quot;</span> was already used <span class="kr">in</span> scope
nat_scope. [notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;_ * _&quot;</span> was already used <span class="kr">in</span> scope nat_scope.
[notation-overridden,parsing]</span></blockquote><blockquote class="alectryon-message"><span class="highlight">New coercion path [GRing.subring_closedM;
                   GRing.smulr_closedN] : GRing.subring_closed &gt;-&gt; GRing.oppr_closed <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.subring_closedB; GRing.zmod_closedN] : GRing.subring_closed &gt;-&gt; GRing.oppr_closed.
[ambiguous-paths,typechecker]</span></blockquote><blockquote class="alectryon-message"><span class="highlight">New coercion path [GRing.subring_closed_semi;
                   GRing.semiring_closedM] : GRing.subring_closed &gt;-&gt; GRing.mulr_closed <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.subring_closedM; GRing.smulr_closedM] : GRing.subring_closed &gt;-&gt; GRing.mulr_closed.
New coercion path [GRing.subring_closed_semi;
                   GRing.semiring_closedD] : GRing.subring_closed &gt;-&gt; GRing.addr_closed <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.subring_closedB; GRing.zmod_closedD] : GRing.subring_closed &gt;-&gt; GRing.addr_closed.
[ambiguous-paths,typechecker]</span></blockquote><blockquote class="alectryon-message"><span class="highlight">New coercion path [GRing.sdivr_closed_div;
                   GRing.divr_closedM] : GRing.sdivr_closed &gt;-&gt; GRing.mulr_closed <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.sdivr_closedM; GRing.smulr_closedM] : GRing.sdivr_closed &gt;-&gt; GRing.mulr_closed.
[ambiguous-paths,typechecker]</span></blockquote><blockquote class="alectryon-message"><span class="highlight">New coercion path [GRing.subalg_closedBM;
                   GRing.subring_closedB] : GRing.subalg_closed &gt;-&gt; GRing.zmod_closed <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.subalg_closedZ; GRing.submod_closedB] : GRing.subalg_closed &gt;-&gt; GRing.zmod_closed.
[ambiguous-paths,typechecker]</span></blockquote><blockquote class="alectryon-message"><span class="highlight">New coercion path [GRing.divring_closed_div;
                   GRing.sdivr_closedM] : GRing.divring_closed &gt;-&gt; GRing.smulr_closed <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.divring_closedBM; GRing.subring_closedM] : GRing.divring_closed &gt;-&gt; GRing.smulr_closed.
New coercion path [GRing.divring_closed_div;
                   GRing.sdivr_closedM;
                   GRing.smulr_closedN] : GRing.divring_closed &gt;-&gt; GRing.oppr_closed <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.divring_closedBM; GRing.subring_closedB;
 GRing.zmod_closedN] : GRing.divring_closed &gt;-&gt; GRing.oppr_closed.
[ambiguous-paths,typechecker]</span></blockquote><blockquote class="alectryon-message"><span class="highlight">New coercion path [GRing.divalg_closedBdiv;
                   GRing.divring_closedBM] : GRing.divalg_closed &gt;-&gt; GRing.subring_closed <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.divalg_closedZ; GRing.subalg_closedBM] : GRing.divalg_closed &gt;-&gt; GRing.subring_closed.
New coercion path [GRing.divalg_closedBdiv;
                   GRing.divring_closedBM;
                   GRing.subring_closedB] : GRing.divalg_closed &gt;-&gt; GRing.zmod_closed <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.divalg_closedZ; GRing.subalg_closedZ;
 GRing.submod_closedB] : GRing.divalg_closed &gt;-&gt; GRing.zmod_closed.
[ambiguous-paths,typechecker]</span></blockquote><blockquote class="alectryon-message"><span class="highlight">New coercion path [GRing.Pred.subring_smul;
                   GRing.Pred.smul_mul] : GRing.Pred.subring &gt;-&gt; GRing.Pred.mul <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.Pred.subring_semi; GRing.Pred.semiring_mul] : GRing.Pred.subring &gt;-&gt; GRing.Pred.mul.
[ambiguous-paths,typechecker]</span></blockquote><blockquote class="alectryon-message"><span class="highlight">New coercion path [GRing.Pred.divring_sdiv;
                   GRing.Pred.sdiv_smul;
                   GRing.Pred.smul_mul] : GRing.Pred.divring &gt;-&gt; GRing.Pred.mul <span class="kr">is</span> ambiguous <span class="kr">with</span> existing 
[GRing.Pred.divring_ring; GRing.Pred.subring_semi;
 GRing.Pred.semiring_mul] : GRing.Pred.divring &gt;-&gt; GRing.Pred.mul.
[ambiguous-paths,typechecker]</span></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">From</span> hanoi <span class="kn">Require Import</span> extra triangular phi.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Set Implicit Arguments</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Unset Strict Implicit</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Unset Printing Implicit Defensive</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Open Scope</span> fset_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Open Scope</span> nat_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">BigFSetAux</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Variable</span> (<span class="nv">R</span> : <span class="kt">Type</span>) (<span class="nv">idx</span> : R) (<span class="nv">op</span> : Monoid.com_law idx).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Variable</span> (<span class="nv">I</span> <span class="nv">J</span> : choiceType).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">fsum_nat_const</span> (<span class="nv">e</span> : {fset I}) <span class="nv">a</span> : \sum_(i &lt;- e) a = #|` e| * a.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e) a = #|` e| * a</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e) a = #|` e| * a</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> big_const_seq count_predT iter_addn_0 mulnC.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">diff_fset0_elem</span> (<span class="nv">e</span> : {fset I}) : e != fset0 -&gt; {i : I | i \<span class="kr">in</span> e}.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e != fset0 -&gt; {i : I | i \<span class="kr">in</span> e}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e != fset0 -&gt; {i : I | i \<span class="kr">in</span> e}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: e =&gt; [] [|i l] iH //=; <span class="kr">exists</span> <span class="nv">i</span>; <span class="nb">rewrite</span> inE eqxx.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* Should be reworked  *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">eq_fbigmax</span> (<span class="nv">e</span> : {fset I}) (<span class="nv">F</span> : I -&gt; nat) :
  <span class="mi">0</span> &lt; #|`e| -&gt; {i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk7"><span class="highlight"><span class="nb">have</span> [n cI] := ubnP #|`e|; <span class="nb">elim</span>: n =&gt; // n IH e cI <span class="kr">in</span> e cI *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk8"><span class="highlight"><span class="nb">rewrite</span> cardfs_gt0 =&gt; /diff_fset0_elem[i iH].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk9"><span class="highlight"><span class="nb">have</span> [|H] := leqP #|`(e `\ i)| <span class="mi">0</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e `\ i| &lt;= <span class="mi">0</span> -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i1 &lt;- e) F i1 = F i0}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chka" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chka"><hr></label><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkb"><span class="highlight"><span class="nb">rewrite</span> leqn0 cardfs_eq0 =&gt; /eqP eZ.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eZ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e `\ i = fset0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chkc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chkc"><hr></label><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd"><span class="highlight"><span class="kr">exists</span> <span class="nv">i</span>; <span class="nb">split</span> =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eZ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e `\ i = fset0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e) F i = F i</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chke" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chke"><hr></label><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf"><span class="highlight"><span class="nb">rewrite</span> (big_fsetD1 i) //= eZ big1_fset =&gt; [|j]; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">rewrite</span> inE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eZ</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e `\ i = fset0</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn (F i) <span class="mi">0</span> = F i</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk10" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk10"><hr></label><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk11"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/maxn_idPl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk12"><span class="highlight"><span class="nb">case</span>: (IH (e `\ i)) =&gt; // [|j [jIe jH]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e `\ i| &lt; n</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk13" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk13"><hr></label><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk14"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>: cI; <span class="nb">rewrite</span> (cardfsD1 i) iH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk15"><span class="highlight"><span class="nb">have</span> [FiLFj|FjLFi] := leqP (F i) (F j).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FiLFj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F i &lt;= F j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk16" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FjLFi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F j &lt; F i</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk16"><hr></label><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk17"><span class="highlight"><span class="kr">exists</span> <span class="nv">j</span>; <span class="nb">split</span> =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FiLFj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F i &lt;= F j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">j \<span class="kr">in</span> e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FiLFj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F i &lt;= F j</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk18"><hr></label><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e) F i = F j</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FjLFi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F j &lt; F i</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk19"><hr></label><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>: jIe; <span class="nb">rewrite</span> !inE =&gt; /andP[].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FiLFj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F i &lt;= F j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e) F i = F j</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FjLFi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F j &lt; F i</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1b"><hr></label><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1c"><span class="highlight"><span class="nb">rewrite</span> (big_fsetD1 i) //= jH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FiLFj</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F i &lt;= F j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn (F i) (F j) = F j</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FjLFi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F j &lt; F i</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1d"><hr></label><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/maxn_idPr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FjLFi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F j &lt; F i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f"><span class="highlight"><span class="kr">exists</span> <span class="nv">i</span>; <span class="nb">split</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FjLFi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F j &lt; F i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk20" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FjLFi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F j &lt; F i</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk20"><hr></label><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e) F i = F i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk21"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>: jIe; <span class="nb">rewrite</span> !inE =&gt; /andP[].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FjLFi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F j &lt; F i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e) F i = F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk22"><span class="highlight"><span class="nb">rewrite</span> (big_fsetD1 i) //= jH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span> : {fset I},
#|` e| &lt; n -&gt;
<span class="mi">0</span> &lt; #|` e| -&gt;
{i0 : I | i0 \<span class="kr">in</span> e /\ \max_(i &lt;- e) F i = F i0}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; #|` e `\ i|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e `\ i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) F i = F j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">FjLFi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F j &lt; F i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn (F i) (F j) = F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/maxn_idPl/ltnW.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk23"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">big_fsetD1cond</span> (<span class="nv">a</span> : I) (<span class="nv">A</span> : {fset I}) (<span class="nv">P</span> : pred I) (<span class="nv">F</span> : I -&gt; R) : 
   a \<span class="kr">in</span> A -&gt; P a -&gt;
  \big[op/idx]_(i &lt;- A | P i) F i = 
     op (F a) (\big[op/idx]_(i &lt;- A `\ a | P i) F i).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a \<span class="kr">in</span> A -&gt;
P a -&gt;
\big[op/idx]_(i &lt;- A | P i) F i =
op (F a) (\big[op/idx]_(i &lt;- A `\ a | P i) F i)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk24"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a \<span class="kr">in</span> A -&gt;
P a -&gt;
\big[op/idx]_(i &lt;- A | P i) F i =
op (F a) (\big[op/idx]_(i &lt;- A `\ a | P i) F i)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk25"><span class="highlight"><span class="nb">move</span>=&gt; aA aP; <span class="nb">rewrite</span> (big_fsetIDcond _ (mem [fset a])).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aA</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">op
  (\big[op/idx]_(i &lt;- [fset x
                         | x <span class="kr">in</span> A
                         &amp; mem [fset a] x] | P i) 
   F i)
  (\big[op/idx]_(i &lt;- [fset x
                         | x <span class="kr">in</span> A
                         &amp; ~~ mem [fset a] x] | P i)
      F i) =
op (F a) (\big[op/idx]_(i &lt;- A `\ a | P i) F i)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk26"><span class="highlight"><span class="nb">congr</span> (op _ _); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aA</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\big[op/idx]_(i &lt;- [fset x
                      | x <span class="kr">in</span> A
                      &amp; ~~ mem [fset a] x] | P i) 
F i = \big[op/idx]_(i &lt;- A `\ a | P i) F i</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk27" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aA</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P a</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk27"><hr></label><div class="goal-conclusion"><span class="highlight">\big[op/idx]_(i &lt;- [fset x | x <span class="kr">in</span> A &amp; mem [fset a] x] | 
P i) F i = F a</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk28"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: eq_fbigl_cond =&gt; i; <span class="nb">rewrite</span> !inE /= [_ &amp;&amp; (_ != _)]andbC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aA</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\big[op/idx]_(i &lt;- [fset x | x <span class="kr">in</span> A &amp; mem [fset a] x] | 
P i) F i = F a</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk29"><span class="highlight"><span class="nb">rewrite</span> (_ : [fset _ | _ <span class="kr">in</span> _ &amp; _] = [fset a]).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aA</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\big[op/idx]_(i &lt;- [fset a] | P i) F i = F a</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aA</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P a</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2a"><hr></label><div class="goal-conclusion"><span class="highlight">[fset H
   | H <span class="kr">in</span> mem_fin (fset_finpred A)
   &amp; mem [fset a] H] = [fset a]</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2b"><span class="highlight"><span class="nb">rewrite</span> big_seq_fsetE /= /index_enum /= -enumT enum_fset1 /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aA</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\big[op/idx]_(x &lt;- [:: [` fset11 a]] | P (fsval x))
   F (fsval x) = F a</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aA</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P a</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2c"><hr></label><div class="goal-conclusion"><span class="highlight">[fset H
   | H <span class="kr">in</span> mem_fin (fset_finpred A)
   &amp; mem [fset a] H] = [fset a]</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2d"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> <span class="nb">unlock</span> /= aP Monoid.Theory.mulm1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">A</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aA</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> A</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P a</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[fset H
   | H <span class="kr">in</span> mem_fin (fset_finpred A)
   &amp; mem [fset a] H] = [fset a]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/fsetP=&gt; i; <span class="nb">rewrite</span> !inE /= andbC; <span class="nb">case</span>: eqP =&gt; //-&gt;.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">BigFSetAux</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">BigFSetAux</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Variable</span> (<span class="nv">R</span> : <span class="kt">Type</span>) (<span class="nv">idx</span> : R) (<span class="nv">op</span> : Monoid.com_law idx).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Variable</span> (<span class="nv">I</span> <span class="nv">J</span> : choiceType).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2e"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">bigfmax_leqP</span> (<span class="nv">P</span> : pred I) (<span class="nv">m</span> : nat) (<span class="nv">e</span> : {fset I}) (<span class="nv">F</span> : I -&gt; nat) :
  reflect (<span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m) 
          (\max_(i &lt;- e | P i) F i &lt;= m).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (<span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m)
  (\max_(i &lt;- e | P i) F i &lt;= m)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2f"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">reflect (<span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m)
  (\max_(i &lt;- e | P i) F i &lt;= m)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk30"><span class="highlight"><span class="nb">apply</span>: (iffP idP) =&gt; leFm =&gt; [i iIe Pi|].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">leFm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e | P i) F i &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">F i &lt;= m</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk31" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">leFm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk31"><hr></label><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e | P i) F i &lt;= m</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk32"><span class="highlight"><span class="nb">move</span>: leFm.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e | P i) F i &lt;= m -&gt; F i &lt;= m</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk33" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">leFm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk33"><hr></label><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e | P i) F i &lt;= m</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk34"><span class="highlight"><span class="nb">rewrite</span> (big_fsetD1cond _ _ _ Pi) //= =&gt; /(leq_trans _)-&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Pi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">P i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">F i &lt;= maxn (F i) (\max_(i &lt;- e `\ i | P i) F i)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk35" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">leFm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk35"><hr></label><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e | P i) F i &lt;= m</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk36"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: leq_maxl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">leFm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e | P i) F i &lt;= m</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk37"><span class="highlight"><span class="nb">rewrite</span> big_seq_cond.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">leFm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- e | (i \<span class="kr">in</span> e) &amp;&amp; P i) F i &lt;= m</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk38"><span class="highlight"><span class="nb">elim</span>/big_ind: _ =&gt; //= [m1 m2 m1Lm m2Ln | i /andP[]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">leFm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m1, m2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m1Lm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">m1 &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m2Ln</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">m2 &lt;= m</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn m1 m2 &lt;= m</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk39" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">leFm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk39"><hr></label><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3a"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> geq_max m1Lm.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">P</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">pred I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">leFm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">i</span> : I, i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> e -&gt; P i -&gt; F i &lt;= m</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: leFm.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">leq_bigfmax</span> (<span class="nv">e</span> : {fset I}) (<span class="nv">F</span> : I -&gt; nat) <span class="nv">i</span> :
   i \<span class="kr">in</span> e -&gt;  F i &lt;= \max_(i &lt;- e) F i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> e -&gt; F i &lt;= \max_(i &lt;- e) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> e -&gt; F i &lt;= \max_(i &lt;- e) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3d"><span class="highlight"><span class="nb">move</span>=&gt; iIe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">F i &lt;= \max_(i &lt;- e) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3e"><span class="highlight"><span class="nb">have</span> : i \<span class="kr">in</span> enum_fset e <span class="bp">by</span> [].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> e -&gt; F i &lt;= \max_(i &lt;- e) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3f"><span class="highlight"><span class="nb">elim</span>: enum_fset =&gt; //= a l IH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> l -&gt; F i &lt;= \max_(i &lt;- l) F i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> a :: l -&gt; F i &lt;= \max_(i &lt;- (a :: l)) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk40"><span class="highlight"><span class="nb">rewrite</span> inE big_cons =&gt; /orP[/eqP&lt;-|/IH H]; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">apply</span>: leq_maxl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">R</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kt">Type</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">idx</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">op</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Monoid.com_law idx</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">I, J</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset I}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq I</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> l -&gt; F i &lt;= \max_(i &lt;- l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">F i &lt;= \max_(i &lt;- l) F i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">F i &lt;= maxn (F a) (\max_(j &lt;- l) F j)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: leq_trans H _; <span class="nb">apply</span>: leq_maxr.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">BigFSetAux</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Section</span> <span class="nf">PsiDef</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Implicit Type</span> <span class="nf">e</span> : {fset nat}.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Import</span> Order.TTheory GRing.Theory Num.Theory.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">

</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Open Scope</span> fset_scope.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">psi_aux</span> <span class="nv">l</span> <span class="nv">e</span> : int :=
  ((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + (\sum_(i &lt;- e) <span class="mi">2</span> ^ (minn (troot i) l)))%:R - (l * <span class="mi">2</span> ^ l)%:R.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;&#39;œà&#39;&#39; n&quot;</span> := (psi_aux n) (<span class="kn">format</span> <span class="s2">&quot;&#39;œà&#39;&#39; n&quot;</span>, <span class="kn">at level</span> <span class="mi">0</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk41"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux_0_ge0</span> <span class="nv">e</span> :  (<span class="mi">0</span> &lt;= psi_aux <span class="mi">0</span> e)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">0</span> &lt;= œà&#39;(<span class="mi">0</span>) e)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk42"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">0</span> &lt;= œà&#39;(<span class="mi">0</span>) e)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> /psi_aux add0n mul0n subr0 (ler_nat _ <span class="mi">0</span>).</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk43"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux_sub</span> <span class="nv">l</span> <span class="nv">e1</span> <span class="nv">e2</span> : e1 `&lt;=` e2 -&gt; (psi_aux l e1 &lt;= psi_aux l e2)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e1 `&lt;=` e2 -&gt; (œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk44"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e1 `&lt;=` e2 -&gt; (œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk45"><span class="highlight"><span class="nb">move</span>=&gt; e1Se2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk46"><span class="highlight"><span class="nb">apply</span>: ler_sub =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l)%:R &lt;=
 ((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk47"><span class="highlight"><span class="nb">rewrite</span> ler_nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
(<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk48"><span class="highlight"><span class="nb">rewrite</span> leq_add2l //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk49"><span class="highlight"><span class="nb">rewrite</span> [X <span class="kr">in</span> _ &lt;= X](bigID (<span class="kr">fun</span> <span class="nv">i</span> =&gt; i \<span class="kr">in</span> e1)) /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e2 | i \<span class="kr">in</span> e1) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- e2 | i \notin e1) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk4a"><span class="highlight"><span class="nb">suff</span> iH : [fset x <span class="kr">in</span> e1 | xpredT x] =i [fset i <span class="kr">in</span> e2 | i \<span class="kr">in</span> e1].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">[fset x | x <span class="kr">in</span> e1 &amp; true]
  =i [fset i | i <span class="kr">in</span> e2 &amp; i \<span class="kr">in</span> e1]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e2 | i \<span class="kr">in</span> e1) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- e2 | i \notin e1) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk4b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk4b"><hr></label><div class="goal-conclusion"><span class="highlight">[fset x | x <span class="kr">in</span> e1 &amp; true]
  =i [fset i | i <span class="kr">in</span> e2 &amp; i \<span class="kr">in</span> e1]</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk4c"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> (eq_fbigl_cond _ _ iH) /= leq_addr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[fset x | x <span class="kr">in</span> e1 &amp; true]
  =i [fset i | i <span class="kr">in</span> e2 &amp; i \<span class="kr">in</span> e1]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk4d"><span class="highlight"><span class="nb">move</span>=&gt; i; <span class="nb">rewrite</span> !inE /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \<span class="kr">in</span> [eta mem_seq e1]) &amp;&amp; true =
(i \<span class="kr">in</span> [eta mem_seq e2]) &amp;&amp; (i \<span class="kr">in</span> e1)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk4e"><span class="highlight"><span class="nb">have</span> /fsubsetP/(_ i) := e1Se2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \<span class="kr">in</span> e1 -&gt; i \<span class="kr">in</span> e2) -&gt;
(i \<span class="kr">in</span> [eta mem_seq e1]) &amp;&amp; true =
(i \<span class="kr">in</span> [eta mem_seq e2]) &amp;&amp; (i \<span class="kr">in</span> e1)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: (i \<span class="kr">in</span> e1) =&gt; [-&gt;//|]; <span class="nb">rewrite</span> andbF.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk4f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_auxE_le</span> <span class="nv">l</span> <span class="nv">e</span> :
  psi_aux l e = 
   (((<span class="mi">2</span> ^ l * #|`[fset i <span class="kr">in</span> e | (l &lt;= troot i)%nat]|.+<span class="mi">1</span>).-<span class="mi">1</span> 
    + (\sum_(i &lt;- e | (troot i &lt; l)%nat) <span class="mi">2</span> ^ troot i))%:R - (l * <span class="mi">2</span> ^ l)%:R)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà&#39;(l) e =
(((<span class="mi">2</span> ^ l * #|` [fset i <span class="kr">in</span> e | (l &lt;= ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- e | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk50"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà&#39;(l) e =
(((<span class="mi">2</span> ^ l * #|` [fset i <span class="kr">in</span> e | (l &lt;= ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- e | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk51"><span class="highlight"><span class="nb">rewrite</span> /psi_aux.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R =
(((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; (l &lt;= ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- e | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk52"><span class="highlight"><span class="nb">congr</span> (_%:R - _%:R)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk53"><span class="highlight"><span class="nb">rewrite</span> (big_fsetID _ [pred i | l &lt;= ‚àái]) /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx])
     <span class="mi">2</span> ^ minn (‚àái) l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)])
     <span class="mi">2</span> ^ minn (‚àái) l))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk54"><span class="highlight"><span class="nb">rewrite</span> (@eq_fbigr _ _ _ _ _ _ _ (<span class="kr">fun</span> <span class="nv">i</span> =&gt; <span class="mi">2</span> ^ l)) /=; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : nat,
x \<span class="kr">in</span> [fset x0 | x0 <span class="kr">in</span> e &amp; l &lt;= ‚àáx0] -&gt;
true -&gt; <span class="mi">2</span> ^ minn (‚àáx) l = <span class="mi">2</span> ^ l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk55" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk55"><hr></label><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx]) <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)])
     <span class="mi">2</span> ^ minn (‚àái) l))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk56"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>=&gt; i; <span class="nb">rewrite</span> !inE =&gt; /andP[_ /minn_idPr-&gt;].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx]) <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)])
     <span class="mi">2</span> ^ minn (‚àái) l))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk57"><span class="highlight"><span class="nb">rewrite</span> fsum_nat_const.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)])
     <span class="mi">2</span> ^ minn (‚àái) l))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk58"><span class="highlight"><span class="nb">rewrite</span> (@eq_fbigr _ _ _ _ _ _ _  (<span class="kr">fun</span> <span class="nv">i</span> =&gt; <span class="mi">2</span> ^ (troot i))) /=; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : nat,
x \<span class="kr">in</span> [fset x0 | x0 <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx0)] -&gt;
true -&gt; <span class="mi">2</span> ^ minn (‚àáx) l = <span class="mi">2</span> ^ ‚àáx</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk59" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk59"><hr></label><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)]) <span class="mi">2</span> ^ ‚àái))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk5a"><span class="highlight"><span class="nb">move</span>=&gt; i; <span class="nb">rewrite</span> !inE =&gt; /andP[_ H] _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~~ (l &lt;= ‚àái)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ minn (‚àái) l = <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk5b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk5b"><hr></label><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)]) <span class="mi">2</span> ^ ‚àái))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk5c"><span class="highlight"><span class="nb">suff</span> /minn_idPl-&gt; : troot i &lt;= l <span class="bp">by</span> [].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~~ (l &lt;= ‚àái)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àái &lt;= l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk5d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk5d"><hr></label><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)]) <span class="mi">2</span> ^ ‚àái))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk5e"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> ltnW // ltnNge.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)]) <span class="mi">2</span> ^ ‚àái))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk5f"><span class="highlight"><span class="nb">rewrite</span> addnA; <span class="nb">congr</span> (_ + _)%nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + #|` [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx]| * <span class="mi">2</span> ^ l)%N =
(<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk60" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk60"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)]) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk61"><span class="highlight"><span class="nb">rewrite</span> mulnS [_ ^ _ * #|`_|]mulnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + #|` [fset x | x <span class="kr">in</span> e &amp; l &lt;= ‚àáx]| * <span class="mi">2</span> ^ l)%N =
(<span class="mi">2</span> ^ l + #|` [fset i | i <span class="kr">in</span> e &amp; l &lt;= ‚àái]| * <span class="mi">2</span> ^ l).-<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk62" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk62"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)]) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk63"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: (<span class="mi">2</span> ^ l) (expn_gt0 <span class="mi">2</span> l).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt;= ‚àáx)]) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt;- e | ‚àái &lt; l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: eq_fbigl_cond =&gt; i; <span class="nb">rewrite</span> !inE ltnNge andbT.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk64"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_auxE_lt</span> <span class="nv">l</span> <span class="nv">e</span> :
  psi_aux l e =
   (((<span class="mi">2</span> ^ l * #|`[fset i <span class="kr">in</span> e | (l &lt; troot i)%nat]|.+<span class="mi">1</span>).-<span class="mi">1</span> 
    + (\sum_(i &lt;- e | (troot i &lt;= l)%nat) <span class="mi">2</span> ^ troot i))%:R - (l * <span class="mi">2</span> ^ l)%:R)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà&#39;(l) e =
(((<span class="mi">2</span> ^ l * #|` [fset i <span class="kr">in</span> e | (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- e | (‚àái &lt;= l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk65"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà&#39;(l) e =
(((<span class="mi">2</span> ^ l * #|` [fset i <span class="kr">in</span> e | (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- e | (‚àái &lt;= l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk66"><span class="highlight"><span class="nb">rewrite</span> /psi_aux.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R =
(((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- e | (‚àái &lt;= l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk67"><span class="highlight"><span class="nb">congr</span> (_%:R - _%:R)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk68"><span class="highlight"><span class="nb">rewrite</span> (big_fsetID _ [pred i | l &lt; troot i]) /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx])
     <span class="mi">2</span> ^ minn (‚àái) l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)])
     <span class="mi">2</span> ^ minn (‚àái) l))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk69"><span class="highlight"><span class="nb">rewrite</span> (@eq_fbigr _ _ _ _ _ _ _ (<span class="kr">fun</span> =&gt; <span class="mi">2</span> ^ l)) /=; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : nat,
x \<span class="kr">in</span> [fset x0 | x0 <span class="kr">in</span> e &amp; l &lt; ‚àáx0] -&gt;
true -&gt; <span class="mi">2</span> ^ minn (‚àáx) l = <span class="mi">2</span> ^ l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk6a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk6a"><hr></label><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx]) <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)])
     <span class="mi">2</span> ^ minn (‚àái) l))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk6b"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>=&gt; i; <span class="nb">rewrite</span> !inE =&gt; /andP[_ /ltnW/minn_idPr -&gt;].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx]) <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)])
     <span class="mi">2</span> ^ minn (‚àái) l))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk6c"><span class="highlight"><span class="nb">rewrite</span> fsum_nat_const.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)])
     <span class="mi">2</span> ^ minn (‚àái) l))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk6d"><span class="highlight"><span class="nb">rewrite</span> (@eq_fbigr _ _ _ _ _ _ _ (<span class="kr">fun</span> <span class="nv">i</span> =&gt; <span class="mi">2</span> ^ troot i)) /=; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">forall</span> <span class="nv">x</span> : nat,
x \<span class="kr">in</span> [fset x0 | x0 <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx0)] -&gt;
true -&gt; <span class="mi">2</span> ^ minn (‚àáx) l = <span class="mi">2</span> ^ ‚àáx</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk6e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk6e"><hr></label><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)]) <span class="mi">2</span> ^ ‚àái))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk6f"><span class="highlight"><span class="nb">move</span>=&gt; i; <span class="nb">rewrite</span> !inE /= =&gt; /andP[_ H] _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~~ (l &lt; ‚àái)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ minn (‚àái) l = <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk70" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk70"><hr></label><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)]) <span class="mi">2</span> ^ ‚àái))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk71"><span class="highlight"><span class="nb">suff</span> /minn_idPl-&gt; : troot i &lt;= l <span class="bp">by</span> [].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~~ (l &lt; ‚àái)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àái &lt;= l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk72" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk72"><hr></label><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)]) <span class="mi">2</span> ^ ‚àái))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk73"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> leqNgt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
 (#|` [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx]| * <span class="mi">2</span> ^ l +
  \sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)]) <span class="mi">2</span> ^ ‚àái))%N =
((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
 \sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk74"><span class="highlight"><span class="nb">rewrite</span> addnA; <span class="nb">congr</span> (_ + _)%nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + #|` [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx]| * <span class="mi">2</span> ^ l)%N =
(<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]|.+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk75" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk75"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)]) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk76"><span class="highlight"><span class="nb">rewrite</span> mulnS [_ ^ _ * #|`_|]mulnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + #|` [fset x | x <span class="kr">in</span> e &amp; l &lt; ‚àáx]| * <span class="mi">2</span> ^ l)%N =
(<span class="mi">2</span> ^ l + #|` [fset i | i <span class="kr">in</span> e &amp; l &lt; ‚àái]| * <span class="mi">2</span> ^ l).-<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk77" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk77"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)]) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk78"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: (<span class="mi">2</span> ^ l) (expn_gt0 <span class="mi">2</span> l).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e &amp; ~~ (l &lt; ‚àáx)]) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt;- e | ‚àái &lt;= l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: eq_fbigl_cond =&gt; i; <span class="nb">rewrite</span> !inE ltnNge andbT negbK.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">psi_auxb</span> <span class="nv">e</span> := (maxn #|`e| (\max_(i &lt;- e) troot i)).+<span class="mi">1</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;&#39;œà_b&#39; n&quot;</span> := (psi_auxb n) (<span class="kn">format</span> <span class="s2">&quot;&#39;œà_b&#39; n&quot;</span>, <span class="kn">at level</span> <span class="mi">0</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk79"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux_psib</span> <span class="nv">l</span> <span class="nv">e</span> : psi_auxb e &lt;= l -&gt; (psi_aux l e &lt;= <span class="mi">0</span>)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà_b(e) &lt;= l -&gt; (œà&#39;(l) e &lt;= <span class="mi">0</span>)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk7a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà_b(e) &lt;= l -&gt; (œà&#39;(l) e &lt;= <span class="mi">0</span>)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk7b"><span class="highlight"><span class="nb">rewrite</span> /psi_auxb; <span class="nb">case</span>: l =&gt; // l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn #|` e| (\max_(i &lt;- e) ‚àái) &lt; l.+<span class="mi">1</span> -&gt;
(œà&#39;(l.+<span class="mi">1</span>) e &lt;= <span class="mi">0</span>)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk7c"><span class="highlight"><span class="nb">rewrite</span> ltnS /psi_aux geq_max =&gt; /andP[eLl maxLl].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span>).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l.+<span class="mi">1</span>)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R &lt;= <span class="mi">0</span>)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk7d"><span class="highlight"><span class="nb">rewrite</span> mulSn -{<span class="mi">2</span>}[_ ^ _]prednK <span class="nl">?expn_gt0</span> // addSnnS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span>).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l.+<span class="mi">1</span>)%:R -
 ((<span class="mi">2</span> ^ l.+<span class="mi">1</span>).-<span class="mi">1</span> + (l * <span class="mi">2</span> ^ l.+<span class="mi">1</span>).+<span class="mi">1</span>)%:R &lt;= <span class="mi">0</span>)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk7e"><span class="highlight"><span class="nb">rewrite</span> !natrD [(_%:R + _)%R]addrC opprD addrA addrK.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l.+<span class="mi">1</span>)%:R -
 (l * <span class="mi">2</span> ^ l.+<span class="mi">1</span>).+<span class="mi">1</span>%:R &lt;= <span class="mi">0</span>)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk7f"><span class="highlight"><span class="nb">rewrite</span> subr_le0 ler_nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l.+<span class="mi">1</span> &lt;= (l * <span class="mi">2</span> ^ l.+<span class="mi">1</span>).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk80"><span class="highlight"><span class="nb">apply</span>: leq_trans (leqnSn _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l.+<span class="mi">1</span> &lt;= l * <span class="mi">2</span> ^ l.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk81"><span class="highlight"><span class="nb">apply</span>: leq_trans (_ : #|`e| * <span class="mi">2</span> ^ l.+<span class="mi">1</span> &lt;= _); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e| * <span class="mi">2</span> ^ l.+<span class="mi">1</span> &lt;= l * <span class="mi">2</span> ^ l.+<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk82" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk82"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l.+<span class="mi">1</span> &lt;= #|` e| * <span class="mi">2</span> ^ l.+<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk83"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> leq_mul2r eLl orbT.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l.+<span class="mi">1</span> &lt;= #|` e| * <span class="mi">2</span> ^ l.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk84"><span class="highlight"><span class="nb">rewrite</span> -fsum_nat_const.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l.+<span class="mi">1</span> &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ l.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk85"><span class="highlight"><span class="nb">apply</span>: leq_sum =&gt; i iIe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">true</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ minn (‚àái) l.+<span class="mi">1</span> &lt;= <span class="mi">2</span> ^ l.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk86"><span class="highlight"><span class="nb">apply</span>: leq_pexp2l =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">maxLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) ‚àái &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">true</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">minn (‚àái) l.+<span class="mi">1</span> &lt;= l.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span> geq_minr.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">rnz</span> (<span class="nv">z</span> : int) := `|Num.max <span class="mi">0</span>%R z|.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk87"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">rnz_ler0</span> <span class="nv">z</span> : (z &lt;= <span class="mi">0</span>)%R -&gt; rnz z = <span class="mi">0</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_numDomainType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(z &lt;= <span class="mi">0</span>)%R -&gt; rnz z = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk88"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_numDomainType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(z &lt;= <span class="mi">0</span>)%R -&gt; rnz z = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>=&gt;  zN; <span class="nb">rewrite</span> /rnz max_l.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk89"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">rnz_ger0</span> <span class="nv">z</span> : (<span class="mi">0</span> &lt;= z)%R -&gt; (z = (rnz z)%:R)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_numDomainType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">0</span> &lt;= z)%R -&gt; z = ((rnz z)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk8a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_numDomainType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">0</span> &lt;= z)%R -&gt; z = ((rnz z)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>=&gt;  zP; <span class="nb">rewrite</span> /rnz max_r // natz gez0_abs.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk8b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">ler_rnz</span> <span class="nv">z</span> : (z &lt;= rnz z)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_porderType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(z &lt;= rnz z)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk8c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_porderType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(z &lt;= rnz z)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> /rnz; <span class="nb">case</span>: ler0P =&gt; //= zP; <span class="nb">rewrite</span> gtz0_abs.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk8d"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">rnz_ler</span> <span class="nv">z1</span> <span class="nv">z2</span> : (z1 &lt;= z2)%R -&gt; rnz z1 &lt;= rnz z2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z1, z2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_porderType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(z1 &lt;= z2)%R -&gt; rnz z1 &lt;= rnz z2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk8e"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z1, z2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_porderType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(z1 &lt;= z2)%R -&gt; rnz z1 &lt;= rnz z2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk8f"><span class="highlight"><span class="nb">rewrite</span> /rnz; <span class="nb">case</span>: ler0P =&gt; // z1_gt0 z1Lz2; <span class="nb">case</span>: ler0P =&gt; //= [|z2_gt0].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z1, z2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_porderType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z1_gt0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="mi">0</span> &lt; z1)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z1Lz2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(z1 &lt;= z2)%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(z2 &lt;= <span class="mi">0</span>)%R -&gt; `|z1| &lt;= <span class="mi">0</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk90" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z1, z2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_porderType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z1_gt0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="mi">0</span> &lt; z1)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z1Lz2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(z1 &lt;= z2)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z2_gt0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="mi">0</span> &lt; z2)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk90"><hr></label><div class="goal-conclusion"><span class="highlight">`|z1| &lt;= `|z2|</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk91"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> leNgt =&gt; /negP[]; <span class="nb">apply</span>: lt_le_trans z1Lz2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">z1, z2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">int_porderType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z1_gt0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="mi">0</span> &lt; z1)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z1Lz2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(z1 &lt;= z2)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">z2_gt0</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="mi">0</span> &lt; z2)%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">`|z1| &lt;= `|z2|</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -lez_nat !gtz0_abs.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Definition</span> <span class="nf">psi</span> <span class="nv">e</span> := \max_(l &lt; psi_auxb e) rnz (psi_aux l e).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Notation</span> <span class="s2">&quot;&#39;œà&#39; n&quot;</span> := (psi n) (<span class="kn">format</span> <span class="s2">&quot;&#39;œà&#39; n&quot;</span>, <span class="kn">at level</span> <span class="mi">0</span>).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk92"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psiE_leq</span> <span class="nv">e</span> <span class="nv">n</span> :
  psi_auxb e &lt;= n -&gt; psi e = \max_(l &lt; n) rnz (psi_aux l e).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà_b(e) &lt;= n -&gt; œà(e) = \max_(l &lt; n) rnz (œà&#39;(l) e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk93"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà_b(e) &lt;= n -&gt; œà(e) = \max_(l &lt; n) rnz (œà&#39;(l) e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk94"><span class="highlight"><span class="nb">move</span>=&gt; pLn.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œà_b(e) &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e) = \max_(l &lt; n) rnz (œà&#39;(l) e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk95"><span class="highlight"><span class="nb">rewrite</span> /psi.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œà_b(e) &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; œà_b(e)) rnz (œà&#39;(l) e) =
\max_(l &lt; n) rnz (œà&#39;(l) e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk96"><span class="highlight"><span class="nb">rewrite</span> (big_ord_widen_cond _ xpredT (<span class="kr">fun</span> <span class="nv">i</span> =&gt; rnz (psi_aux i e)) pLn).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œà_b(e) &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(i &lt; n | true &amp;&amp; (i &lt; œà_b(e))) rnz (œà&#39;(i) e) =
\max_(l &lt; n) rnz (œà&#39;(l) e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk97"><span class="highlight"><span class="nb">rewrite</span> [RHS](bigID (<span class="kr">fun</span> <span class="nv">i</span> : &#39;I_n =&gt; i &lt; psi_auxb e)) /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œà_b(e) &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(i &lt; n | i &lt; œà_b(e)) rnz (œà&#39;(i) e) =
maxn (\max_(i &lt; n | i &lt; œà_b(e)) rnz (œà&#39;(i) e))
  (\max_(i &lt; n | ~~ (i &lt; œà_b(e))) rnz (œà&#39;(i) e))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk98"><span class="highlight"><span class="nb">rewrite</span> [X <span class="kr">in</span> _ = maxn _ X]big1 <span class="nl">?maxn0</span> // =&gt; i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œà_b(e) &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~~ (i &lt; œà_b(e)) -&gt; rnz (œà&#39;(i) e) = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk99"><span class="highlight"><span class="nb">rewrite</span> -leqNgt =&gt; /psi_aux_psib.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œà_b(e) &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(i) e &lt;= <span class="mi">0</span>)%R -&gt; rnz (œà&#39;(i) e) = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">exact</span>: rnz_ler0.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk9a"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_max</span> <span class="nv">e</span> <span class="nv">l</span> : (psi_aux l e &lt;= (psi e)%:R)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e &lt;= œà(e)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk9b"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e &lt;= œà(e)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk9c"><span class="highlight"><span class="nb">pose</span> n := maxn (psi_auxb e) l.+<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e) l.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e &lt;= œà(e)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk9d"><span class="highlight"><span class="nb">have</span> /psiE_leq-&gt; : psi_auxb e &lt;= n <span class="bp">by</span> <span class="nb">apply</span>: leq_maxl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e) l.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e &lt;= (\max_(l &lt; n) rnz (œà&#39;(l) e))%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk9e"><span class="highlight"><span class="nb">have</span> O : l &lt; n <span class="bp">by</span> <span class="nb">apply</span>: leq_maxr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e) l.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">O</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e &lt;= (\max_(l &lt; n) rnz (œà&#39;(l) e))%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk9f"><span class="highlight"><span class="nb">have</span> [/le_trans-&gt;//|/ltW/rnz_ger0-&gt;] := lerP (psi_aux l e) <span class="mi">0</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e) l.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">O</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">0</span> &lt;= (\max_(l &lt; n) rnz (œà&#39;(l) e))%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chka0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e) l.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">O</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chka0"><hr></label><div class="goal-conclusion"><span class="highlight">((rnz (œà&#39;(l) e))%:R &lt;= (\max_(l &lt; n) rnz (œà&#39;(l) e))%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chka1"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> (ler_nat _ <span class="mi">0</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e) l.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">O</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((rnz (œà&#39;(l) e))%:R &lt;= (\max_(l &lt; n) rnz (œà&#39;(l) e))%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chka2"><span class="highlight"><span class="nb">rewrite</span> ler_nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e) l.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">O</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rnz (œà&#39;(l) e) &lt;= \max_(l &lt; n) rnz (œà&#39;(l) e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> (bigD1 (Ordinal O)) //= leq_maxl.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chka3"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_ler</span> <span class="nv">l</span> <span class="nv">e</span> : 
  (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ (minn (troot i) l))%:R - (l * <span class="mi">2</span> ^ l)%:R 
      &lt;= ((psi e)%:R : int))%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;= (œà(e)%:R : int))%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chka4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;= (œà(e)%:R : int))%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chka5"><span class="highlight"><span class="nb">have</span> [/psi_aux_psib/le_trans-&gt;//|lLp] := leqP (psi_auxb e) l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">0</span> &lt;= œà(e)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chka6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; œà_b(e)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chka6"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;= œà(e)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chka7"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> (ler_nat _ <span class="mi">0</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; œà_b(e)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;= œà(e)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chka8"><span class="highlight"><span class="nb">rewrite</span> [X <span class="kr">in</span> (_ &lt;= X%:R)%R](bigD1 (Ordinal lLp)) //=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; œà_b(e)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;=
 (maxn (rnz (œà&#39;(l) e))
    (\max_(i &lt; œà_b(e) | i != Ordinal lLp)
        rnz (œà&#39;(i) e)))%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chka9"><span class="highlight"><span class="nb">apply</span>: le_trans (ler_rnz _) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; œà_b(e)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(rnz
   (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
    (l * <span class="mi">2</span> ^ l)%:R) &lt;=
 (maxn (rnz (œà&#39;(l) e))
    (\max_(i &lt; œà_b(e) | i != Ordinal lLp)
        rnz (œà&#39;(i) e)))%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkaa"><span class="highlight"><span class="nb">rewrite</span> -natz ler_nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLp</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; œà_b(e)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rnz
  (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
   (l * <span class="mi">2</span> ^ l)%:R) &lt;=
maxn (rnz (œà&#39;(l) e))
  (\max_(i &lt; œà_b(e) | i != Ordinal lLp) rnz (œà&#39;(i) e))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="nb">apply</span>: leq_maxl.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkab"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psiE</span> <span class="nv">e</span> :  {l | ((psi e)%:R = psi_aux l e)%R}.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{l : nat | (œà(e)%:R)%R = œà&#39;(l) e}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkac"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{l : nat | (œà(e)%:R)%R = œà&#39;(l) e}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkad"><span class="highlight"><span class="nb">have</span> [l] :  {l : &#39;I_(psi_auxb e) | psi e = rnz (psi_aux l e)}.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{l : &#39;I_œà_b(e) | œà(e) = rnz (œà&#39;(l) e)}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chkae" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_œà_b(e)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chkae"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e) = rnz (œà&#39;(l) e) -&gt;
{l : nat | (œà(e)%:R)%R = œà&#39;(l) e}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkaf"><span class="highlight"><span class="nb">apply</span>: eq_bigmax.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; #|ordinal_finType œà_b(e)|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chkb0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_œà_b(e)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chkb0"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e) = rnz (œà&#39;(l) e) -&gt;
{l : nat | (œà(e)%:R)%R = œà&#39;(l) e}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkb1"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> card_ord.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_œà_b(e)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e) = rnz (œà&#39;(l) e) -&gt;
{l : nat | (œà(e)%:R)%R = œà&#39;(l) e}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkb2"><span class="highlight"><span class="nb">rewrite</span> /rnz; <span class="nb">case</span>: ler0P =&gt; [pG pE|pP -&gt;]; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_œà_b(e)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(<span class="mi">0</span> &lt; œà&#39;(l) e)%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{l0 : nat | (`|œà&#39;(l) e|%:R)%R = œà&#39;(l0) e}</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chkb3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_œà_b(e)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà&#39;(l) e &lt;= <span class="mi">0</span>)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œà(e) = `|<span class="mi">0</span>%R|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chkb3"><hr></label><div class="goal-conclusion"><span class="highlight">{l : nat | (œà(e)%:R)%R = œà&#39;(l) e}</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkb4"><span class="highlight"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">l</span>; <span class="nb">rewrite</span> natz gtz0_abs.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_œà_b(e)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà&#39;(l) e &lt;= <span class="mi">0</span>)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œà(e) = `|<span class="mi">0</span>%R|</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">{l : nat | (œà(e)%:R)%R = œà&#39;(l) e}</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="kr">exists</span> <span class="mi">0</span>; <span class="nb">apply</span>/eqP; <span class="nb">rewrite</span> eq_le {<span class="mi">1</span>}pE psi_aux_0_ge0 psi_max.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkb5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_sub</span> <span class="nv">e1</span> <span class="nv">e2</span> : e1 `&lt;=` e2 -&gt; psi e1 &lt;= psi e2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e1 `&lt;=` e2 -&gt; œà(e1) &lt;= œà(e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkb6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e1 `&lt;=` e2 -&gt; œà(e1) &lt;= œà(e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkb7"><span class="highlight"><span class="nb">move</span>=&gt; e1Se2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1) &lt;= œà(e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkb8"><span class="highlight"><span class="nb">rewrite</span> (psiE_leq (leq_maxl (psi_auxb e1) (psi_auxb e2))).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; maxn œà_b(e1) œà_b(e2)) rnz (œà&#39;(l) e1) &lt;=
œà(e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkb9"><span class="highlight"><span class="nb">rewrite</span> (psiE_leq (leq_maxl (psi_auxb e2) (psi_auxb e1))).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; maxn œà_b(e1) œà_b(e2)) rnz (œà&#39;(l) e1) &lt;=
\max_(l &lt; maxn œà_b(e2) œà_b(e1)) rnz (œà&#39;(l) e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkba"><span class="highlight"><span class="nb">rewrite</span> maxnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; maxn œà_b(e2) œà_b(e1)) rnz (œà&#39;(l) e1) &lt;=
\max_(l &lt; maxn œà_b(e2) œà_b(e1)) rnz (œà&#39;(l) e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkbb"><span class="highlight"><span class="nb">elim</span>/big_ind2: _ =&gt; // [x1 x2 y1 y2 x2Lx1 y2Ly1 | i _].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x1, x2, y1, y2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x2Lx1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x2 &lt;= x1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y2Ly1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">y2 &lt;= y1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn x2 y2 &lt;= maxn x1 y1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chkbc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType (maxn œà_b(e2) œà_b(e1))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chkbc"><hr></label><div class="goal-conclusion"><span class="highlight">rnz (œà&#39;(i) e1) &lt;= rnz (œà&#39;(i) e2)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkbd"><span class="highlight"><span class="nb">rewrite</span> geq_max (leq_trans x2Lx1 (leq_maxl _ _)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x1, x2, y1, y2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x2Lx1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x2 &lt;= x1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">y2Ly1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">y2 &lt;= y1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true &amp;&amp; (y2 &lt;= maxn x1 y1)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chkbe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType (maxn œà_b(e2) œà_b(e1))</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chkbe"><hr></label><div class="goal-conclusion"><span class="highlight">rnz (œà&#39;(i) e1) &lt;= rnz (œà&#39;(i) e2)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkbf"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span>  (leq_trans y2Ly1 (leq_maxr _ _)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType (maxn œà_b(e2) œà_b(e1))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rnz (œà&#39;(i) e1) &lt;= rnz (œà&#39;(i) e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc0"><span class="highlight"><span class="nb">apply</span>: rnz_ler.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Se2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType (maxn œà_b(e2) œà_b(e1))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(i) e1 &lt;= œà&#39;(i) e2)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: psi_aux_sub.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc1"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux_le_psi</span> <span class="nv">e1</span> <span class="nv">e2</span> :
  (<span class="kr">forall</span> <span class="nv">l</span>, (psi_aux l e1 &lt;= psi_aux l e2)%R) -&gt; psi e1 &lt;= psi e2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">l</span> : nat, (œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R) -&gt;
œà(e1) &lt;= œà(e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">forall</span> <span class="nv">l</span> : nat, (œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R) -&gt;
œà(e1) &lt;= œà(e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc3"><span class="highlight"><span class="nb">move</span>=&gt; H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : nat, (œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1) &lt;= œà(e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc4"><span class="highlight"><span class="nb">pose</span> e := maxn (psi_auxb e1) (psi_auxb e2).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : nat, (œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e1) œà_b(e2)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1) &lt;= œà(e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc5"><span class="highlight"><span class="nb">rewrite</span> (psiE_leq (leq_maxl _ _ : _ &lt;= e)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : nat, (œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e1) œà_b(e2)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; e) rnz (œà&#39;(l) e1) &lt;= œà(e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc6"><span class="highlight"><span class="nb">rewrite</span> (psiE_leq (leq_maxr _ _ : _ &lt;= e)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : nat, (œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">maxn œà_b(e1) œà_b(e2)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; e) rnz (œà&#39;(l) e1) &lt;=
\max_(l &lt; e) rnz (œà&#39;(l) e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc7"><span class="highlight"><span class="nb">elim</span>: e =&gt; [|e IH]; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">rewrite</span> !big_ord0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l</span> : nat, (œà&#39;(l) e1 &lt;= œà&#39;(l) e2)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(l &lt; e) rnz (œà&#39;(l) e1) &lt;=
\max_(l &lt; e) rnz (œà&#39;(l) e2)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; e.+<span class="mi">1</span>) rnz (œà&#39;(l) e1) &lt;=
\max_(l &lt; e.+<span class="mi">1</span>) rnz (œà&#39;(l) e2)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> !big_ord_recr /= geq_max !leq_max IH /= rnz_ler // orbT.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc8"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_auxb_sint</span> <span class="nv">n</span> : psi_auxb `[n] = n.+<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà_b(`[n]) = n.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkc9"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà_b(`[n]) = n.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkca"><span class="highlight"><span class="nb">congr</span> (_.+<span class="mi">1</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn #|` `[n]| (\max_(i &lt;- `[n]) ‚àái) = n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkcb"><span class="highlight"><span class="nb">rewrite</span> /psi_auxb.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn #|` `[n]| (\max_(i &lt;- `[n]) ‚àái) = n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkcc"><span class="highlight"><span class="nb">rewrite</span> card_sint <span class="nl">?geq_minr</span> // subn0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn n (\max_(i &lt;- `[n]) ‚àái) = n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkcd"><span class="highlight"><span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">maxn n (\max_(i &lt;- `[n]) ‚àái) == n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkce"><span class="highlight"><span class="nb">rewrite</span> eqn_leq leq_maxl andbT geq_max leqnn andTb.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(i &lt;- `[n]) ‚àái &lt;= n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkcf"><span class="highlight"><span class="nb">apply</span>/bigfmax_leqP =&gt; i; <span class="nb">rewrite</span> mem_sint /= =&gt; iLn _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àái &lt;= n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: leq_trans (leq_rootnn _) (ltnW _).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux_sintE</span> <span class="nv">n</span> <span class="nv">l</span> :
  psi_aux l `[n] = 
  (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt;  n) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà&#39;(l) `[n] =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; n) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà&#39;(l) `[n] =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; n) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd2"><span class="highlight"><span class="nb">congr</span> ((_ + _)%:R - _%:R)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n]) <span class="mi">2</span> ^ minn (‚àái) l =
\sum_(<span class="mi">0</span> &lt;= i &lt; n) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd3"><span class="highlight"><span class="nb">elim</span>: n =&gt; [|n IH]; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">rewrite</span> sint0_set0 /= big_nil.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\sum_(i &lt;- `[n]) <span class="mi">2</span> ^ minn (‚àái) l =
\sum_(<span class="mi">0</span> &lt;= i &lt; n) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n.+<span class="mi">1</span>]) <span class="mi">2</span> ^ minn (‚àái) l =
\sum_(<span class="mi">0</span> &lt;= i &lt; n.+<span class="mi">1</span>) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd4"><span class="highlight"><span class="nb">rewrite</span> (big_fsetD1 n) /=; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">rewrite</span> mem_sint andTb.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\sum_(i &lt;- `[n]) <span class="mi">2</span> ^ minn (‚àái) l =
\sum_(<span class="mi">0</span> &lt;= i &lt; n) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ minn (‚àán) l +
 \sum_(i &lt;- `[n.+<span class="mi">1</span>] `\ n) <span class="mi">2</span> ^ minn (‚àái) l)%N =
\sum_(<span class="mi">0</span> &lt;= i &lt; n.+<span class="mi">1</span>) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> sintSr IH !big_mkord big_ord_recr /= addnC.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_auxb_set0</span> : psi_auxb fset0 = <span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà_b(fset0) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà_b(fset0) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> /psi_auxb cardfs0 max0n big_seq_cond big1.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd7"><span class="highlight"><span class="kn">Lemma</span>  <span class="nf">psi_set0</span> : psi fset0 = <span class="mi">0</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(fset0) = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(fset0) = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkd9"><span class="highlight"><span class="nb">rewrite</span> /psi psi_auxb_set0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; <span class="mi">1</span>) rnz (œà&#39;(l) fset0) = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkda"><span class="highlight"><span class="nb">rewrite</span> !big_ord_recr /= big_ord0 /= max0n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">rnz (œà&#39;(<span class="mi">0</span>) fset0) = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> /psi_aux /= big_seq_cond big1.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkdb"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_eq0</span> <span class="nv">e</span> : (psi e == <span class="mi">0</span>) = (e == fset0).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e) == <span class="mi">0</span>) = (e == fset0)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkdc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e) == <span class="mi">0</span>) = (e == fset0)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkdd"><span class="highlight"><span class="nb">have</span> [-&gt;|[x]] := fset_0Vmem e; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">rewrite</span> psi_set0 !eqxx.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x \<span class="kr">in</span> e -&gt; (œà(e) == <span class="mi">0</span>) = (e == fset0)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkde"><span class="highlight"><span class="nb">have</span> [-&gt;|_] := e =P fset0; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">rewrite</span> inE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x \<span class="kr">in</span> e -&gt; (œà(e) == <span class="mi">0</span>) = false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkdf"><span class="highlight"><span class="nb">move</span>=&gt; xIe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e) == <span class="mi">0</span>) = false</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke0"><span class="highlight"><span class="nb">suff</span> : psi e &gt; <span class="mi">0</span> <span class="bp">by</span> <span class="nb">case</span>: psi.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; œà(e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke1"><span class="highlight"><span class="nb">rewrite</span> -(ltr_nat int_numDomainType).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">0</span>%:R &lt; œà(e)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke2"><span class="highlight"><span class="nb">apply</span>: lt_le_trans (psi_max _ <span class="mi">0</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">0</span>%:R &lt; œà&#39;(<span class="mi">0</span>) e)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> /psi_aux add0n subr0 ltr_nat (big_fsetD1 x).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke3"><span class="highlight"><span class="kn">Lemma</span>  <span class="nf">psi_sint0</span> : psi `[<span class="mi">0</span>] = <span class="mi">0</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[<span class="mi">0</span>]) = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[<span class="mi">0</span>]) = <span class="mi">0</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> sint0_set0 psi_set0.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke5"><span class="highlight"><span class="kn">Lemma</span>  <span class="nf">psi_sint1</span> : psi `[<span class="mi">1</span>] = <span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[<span class="mi">1</span>]) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[<span class="mi">1</span>]) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke7"><span class="highlight"><span class="nb">rewrite</span> /psi psi_auxb_sint.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; <span class="mi">2</span>) rnz (œà&#39;(l) `[<span class="mi">1</span>]) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke8"><span class="highlight"><span class="nb">rewrite</span> -(big_mkord xpredT (<span class="kr">fun</span> <span class="nv">l</span> =&gt; rnz (psi_aux l _))).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">2</span>) rnz (œà&#39;(i) `[<span class="mi">1</span>]) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chke9"><span class="highlight"><span class="nb">pose</span> f l := 
    rnz (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt;  <span class="mi">1</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
         (l * <span class="mi">2</span> ^ l)%:R).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">l</span> : nat =&gt;
rnz
  (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">1</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">2</span>) rnz (œà&#39;(i) `[<span class="mi">1</span>]) = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkea"><span class="highlight"><span class="nb">rewrite</span> (eq_bigr f) =&gt; [|i _]; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">rewrite</span> psi_aux_sintE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">l</span> : nat =&gt;
rnz
  (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">1</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">2</span>) f i = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> /f /= <span class="nb">unlock</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkeb"><span class="highlight"><span class="kn">Lemma</span>  <span class="nf">psi_sint2</span> : psi `[<span class="mi">2</span>] = <span class="mi">2</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[<span class="mi">2</span>]) = <span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkec"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[<span class="mi">2</span>]) = <span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chked"><span class="highlight"><span class="nb">rewrite</span> /psi psi_auxb_sint.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; <span class="mi">3</span>) rnz (œà&#39;(l) `[<span class="mi">2</span>]) = <span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkee"><span class="highlight"><span class="nb">rewrite</span> -(big_mkord xpredT (<span class="kr">fun</span> <span class="nv">l</span> =&gt; rnz (psi_aux l _))).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">3</span>) rnz (œà&#39;(i) `[<span class="mi">2</span>]) = <span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkef"><span class="highlight"><span class="nb">pose</span> f l := 
    rnz (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt;  <span class="mi">2</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
         (l * <span class="mi">2</span> ^ l)%:R).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">l</span> : nat =&gt;
rnz
  (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">2</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">3</span>) rnz (œà&#39;(i) `[<span class="mi">2</span>]) = <span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf0"><span class="highlight"><span class="nb">rewrite</span> (eq_bigr f) =&gt; [|i _]; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">rewrite</span> psi_aux_sintE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">l</span> : nat =&gt;
rnz
  (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">2</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">3</span>) f i = <span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> /f /= <span class="nb">unlock</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf1"><span class="highlight"><span class="kn">Lemma</span>  <span class="nf">psi_sint3</span> : psi `[<span class="mi">3</span>] = <span class="mi">4</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[<span class="mi">3</span>]) = <span class="mi">4</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf2"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[<span class="mi">3</span>]) = <span class="mi">4</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf3"><span class="highlight"><span class="nb">rewrite</span> /psi psi_auxb_sint.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(l &lt; <span class="mi">4</span>) rnz (œà&#39;(l) `[<span class="mi">3</span>]) = <span class="mi">4</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf4"><span class="highlight"><span class="nb">rewrite</span> -(big_mkord xpredT (<span class="kr">fun</span> <span class="nv">l</span> =&gt; rnz (psi_aux l _))).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">4</span>) rnz (œà&#39;(i) `[<span class="mi">3</span>]) = <span class="mi">4</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf5"><span class="highlight"><span class="nb">pose</span> f l := 
    rnz (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt;  <span class="mi">3</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
         (l * <span class="mi">2</span> ^ l)%:R).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">l</span> : nat =&gt;
rnz
  (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">3</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">4</span>) rnz (œà&#39;(i) `[<span class="mi">3</span>]) = <span class="mi">4</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf6"><span class="highlight"><span class="nb">rewrite</span> (eq_bigr f) =&gt; [|i _]; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">rewrite</span> psi_aux_sintE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">l</span> : nat =&gt;
rnz
  (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">3</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\max_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">4</span>) f i = <span class="mi">4</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> /f /= <span class="nb">unlock</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf7"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux_incr</span> <span class="nv">n</span> <span class="nv">l</span> :
  l &lt; (troot n).-<span class="mi">1</span> -&gt; (psi_aux l `[n] &lt;= psi_aux l.+<span class="mi">1</span> `[n])%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span> -&gt; (œà&#39;(l) `[n] &lt;= œà&#39;(l.+<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf8"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span> -&gt; (œà&#39;(l) `[n] &lt;= œà&#39;(l.+<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkf9"><span class="highlight"><span class="nb">move</span>=&gt; lLr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;(l.+<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkfa"><span class="highlight"><span class="nb">have</span> dlLn : delta l.+<span class="mi">2</span> &lt;= n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chkfb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chkfb"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;(l.+<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkfc"><span class="highlight"><span class="nb">rewrite</span> -root_delta_le -subn_gt0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; ‚àán - l.+<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chkfd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chkfd"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;(l.+<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkfe"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -[l.+<span class="mi">1</span>]addn1 addnC subnDA subn_gt0 subn1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;(l.+<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chkff"><span class="highlight"><span class="nb">rewrite</span> psi_auxE_lt psi_auxE_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- `[n] | (‚àái &lt;= l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- `[n] | (‚àái &lt; l.+<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk100"><span class="highlight"><span class="nb">set</span> s := \sum_(_ &lt;- _ | _) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk101"><span class="highlight"><span class="nb">have</span> -&gt; : [fset i <span class="kr">in</span> `[n] | l &lt; troot i] = [fset i <span class="kr">in</span> `[n] | delta l.+<span class="mi">1</span> &lt;= i].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[fset i | i <span class="kr">in</span> `[n] &amp; l &lt; ‚àái] =
[fset i | i <span class="kr">in</span> `[n] &amp; Œîl.+<span class="mi">1</span> &lt;= i]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk102" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk102"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">   </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk103"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/fsetP =&gt; i; <span class="nb">rewrite</span> !inE root_delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk104"><span class="highlight"><span class="nb">have</span> /(sint_sub n)-&gt; : <span class="mi">0</span> &lt;= delta l.+<span class="mi">1</span> <span class="bp">by</span> <span class="nb">apply</span>: delta_le (_ : <span class="mi">0</span> &lt;= l.+<span class="mi">1</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * #|` sint (Œîl.+<span class="mi">1</span>) n|.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l.+<span class="mi">1</span> * #|` sint (Œîl.+<span class="mi">1</span>) n|.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk105"><span class="highlight"><span class="nb">rewrite</span> card_sint //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * (n - Œîl.+<span class="mi">1</span>).+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l.+<span class="mi">1</span> * (n - Œîl.+<span class="mi">1</span>).+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk106"><span class="highlight"><span class="nb">set</span> c := n - _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk107"><span class="highlight"><span class="nb">rewrite</span> expnS mulnAC [<span class="mi">2</span> * _ * _]mulnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l * (<span class="mi">2</span> * c.+<span class="mi">1</span>)).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">1</span> * (<span class="mi">2</span> * <span class="mi">2</span> ^ l))%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk108"><span class="highlight"><span class="nb">rewrite</span> mul2n mulnA muln2 -!addnn -[(_ + l.+<span class="mi">1</span>)%nat]addSnnS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l * (c.+<span class="mi">1</span> + c.+<span class="mi">1</span>)).-<span class="mi">1</span> + s)%:R -
 ((l.+<span class="mi">2</span> + l) * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk109"><span class="highlight"><span class="nb">rewrite</span> mulnDl mulnDr prednDr ?(muln_gt0, expn_gt0) //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 (<span class="mi">2</span> ^ l * c.+<span class="mi">1</span> + (<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l + l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk10a"><span class="highlight"><span class="nb">set</span> x := <span class="mi">2</span> ^ _ * _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((x.-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 (x + x.-<span class="mi">1</span> + s)%:R - (l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l + l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk10b"><span class="highlight"><span class="nb">rewrite</span> -[(_ + _ + s)%nat]addnA [(x + _)%nat]addnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((x.-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R &lt;=
 (x.-<span class="mi">1</span> + s + x)%:R - (l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l + l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk10c"><span class="highlight"><span class="nb">rewrite</span> [((_ + _ * _)%:R)%R]natrD opprD addrA ler_sub //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((x.-<span class="mi">1</span> + s)%:R &lt;=
 (x.-<span class="mi">1</span> + s + x)%:R - (l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk10d"><span class="highlight"><span class="nb">rewrite</span> ler_subr_addr [((_ + x)%:R)%R]natrD ler_add //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l)%:R &lt;= x%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk10e"><span class="highlight"><span class="nb">rewrite</span> ler_nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l &lt;= x</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk10f"><span class="highlight"><span class="nb">rewrite</span> mulnC leq_mul2l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ l == <span class="mi">0</span>) || (l.+<span class="mi">1</span> &lt; c.+<span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk110"><span class="highlight"><span class="nb">rewrite</span> -subSn; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîl.+<span class="mi">1</span> &lt;= n</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk111" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk111"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ l == <span class="mi">0</span>) || (l.+<span class="mi">1</span> &lt; n.+<span class="mi">1</span> - Œîl.+<span class="mi">1</span>)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk112"><span class="highlight"><span class="nb">apply</span>: leq_trans (_ : delta l.+<span class="mi">2</span> &lt;= _); <span class="kp">first</span> <span class="bp">by</span> <span class="bp">by</span> <span class="nb">apply</span>: delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk113" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk113"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ l == <span class="mi">0</span>) || (l.+<span class="mi">1</span> &lt; n.+<span class="mi">1</span> - Œîl.+<span class="mi">1</span>)</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk114"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: leq_trans dlLn _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lLr</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl.+<span class="mi">2</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt;= l) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ l == <span class="mi">0</span>) || (l.+<span class="mi">1</span> &lt; n.+<span class="mi">1</span> - Œîl.+<span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> ltn_subRL -addnS -deltaS (leq_trans dlLn) <span class="nl">?orbT</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk115"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux_decr</span> <span class="nv">n</span> <span class="nv">l</span> :
  (troot n).-<span class="mi">1</span> &lt;= l -&gt; (psi_aux l.+<span class="mi">1</span> `[n] &lt;= psi_aux l `[n])%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l -&gt; (œà&#39;(l.+<span class="mi">1</span>) `[n] &lt;= œà&#39;(l) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk116"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l -&gt; (œà&#39;(l.+<span class="mi">1</span>) `[n] &lt;= œà&#39;(l) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk117"><span class="highlight"><span class="nb">move</span>=&gt; rLl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l.+<span class="mi">1</span>) `[n] &lt;= œà&#39;(l) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk118"><span class="highlight"><span class="nb">have</span> dlLn : n &lt; delta l.+<span class="mi">2</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk119" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk119"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l.+<span class="mi">1</span>) `[n] &lt;= œà&#39;(l) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk11a"><span class="highlight"><span class="nb">rewrite</span> ltnNge -root_delta_le -subn_gt0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">~~ (<span class="mi">0</span> &lt; ‚àán - l.+<span class="mi">1</span>)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk11b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk11b"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l.+<span class="mi">1</span>) `[n] &lt;= œà&#39;(l) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk11c"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -[l.+<span class="mi">1</span>]addn1 addnC subnDA subn_gt0 subn1 -ltnNge.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l.+<span class="mi">1</span>) `[n] &lt;= œà&#39;(l) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk11d"><span class="highlight"><span class="nb">rewrite</span> psi_auxE_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- `[n] | (‚àái &lt; l.+<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R &lt;= œà&#39;(l) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk11e"><span class="highlight"><span class="nb">rewrite</span> psi_auxE_lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- `[n] | (‚àái &lt; l.+<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- `[n] | (‚àái &lt;= l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk11f"><span class="highlight"><span class="nb">set</span> s := \sum_(_ &lt;- _ | _) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l * #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk120"><span class="highlight"><span class="nb">have</span> -&gt; : [fset i <span class="kr">in</span> `[n] | l &lt; troot i] = 
          [fset i <span class="kr">in</span> `[n] | delta l.+<span class="mi">1</span> &lt;= i].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[fset i | i <span class="kr">in</span> `[n] &amp; l &lt; ‚àái] =
[fset i | i <span class="kr">in</span> `[n] &amp; Œîl.+<span class="mi">1</span> &lt;= i]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk121" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk121"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk122"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/fsetP =&gt; i; <span class="nb">rewrite</span> !inE root_delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l *
   #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk123"><span class="highlight"><span class="nb">have</span> /(sint_sub n)-&gt; : <span class="mi">0</span> &lt;= delta l.+<span class="mi">1</span> <span class="bp">by</span> <span class="nb">apply</span>: delta_le (_ : <span class="mi">0</span> &lt;= l.+<span class="mi">1</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span> * #|` sint (Œîl.+<span class="mi">1</span>) n|.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l * #|` sint (Œîl.+<span class="mi">1</span>) n|.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk124"><span class="highlight"><span class="nb">rewrite</span> card_sint //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span> * (n - Œîl.+<span class="mi">1</span>).+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l * (n - Œîl.+<span class="mi">1</span>).+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk125"><span class="highlight"><span class="nb">set</span> c := n - _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l.+<span class="mi">1</span> * <span class="mi">2</span> ^ l.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk126"><span class="highlight"><span class="nb">rewrite</span> expnS mulnAC [<span class="mi">2</span> * _ * _]mulnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * (<span class="mi">2</span> * c.+<span class="mi">1</span>)).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">1</span> * (<span class="mi">2</span> * <span class="mi">2</span> ^ l))%:R &lt;=
 ((<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk127"><span class="highlight"><span class="nb">rewrite</span> mul2n mulnA muln2 -!addnn -[(_ + l.+<span class="mi">1</span>)%nat]addSnnS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l * (c.+<span class="mi">1</span> + c.+<span class="mi">1</span>)).-<span class="mi">1</span> + s)%:R -
 ((l.+<span class="mi">2</span> + l) * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk128"><span class="highlight"><span class="nb">rewrite</span> mulnDl mulnDr prednDr ?(muln_gt0, expn_gt0) //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l * c.+<span class="mi">1</span> + (<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R -
 (l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l + l * <span class="mi">2</span> ^ l)%:R &lt;=
 ((<span class="mi">2</span> ^ l * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk129"><span class="highlight"><span class="nb">set</span> x := <span class="mi">2</span> ^ _ * _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((x + x.-<span class="mi">1</span> + s)%:R - (l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l + l * <span class="mi">2</span> ^ l)%:R &lt;=
 (x.-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk12a"><span class="highlight"><span class="nb">rewrite</span> -[(_ + s)%nat]addnA [(x + _)%nat]addnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((x.-<span class="mi">1</span> + s + x)%:R - (l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l + l * <span class="mi">2</span> ^ l)%:R &lt;=
 (x.-<span class="mi">1</span> + s)%:R - (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk12b"><span class="highlight"><span class="nb">rewrite</span> [((_ + _ * _)%:R)%R]natrD opprD addrA ler_sub //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((x.-<span class="mi">1</span> + s + x)%:R - (l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l)%:R &lt;=
 (x.-<span class="mi">1</span> + s)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk12c"><span class="highlight"><span class="nb">rewrite</span> ler_subl_addr [((_ + x)%:R)%R]natrD ler_add //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x%:R &lt;= (l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk12d"><span class="highlight"><span class="nb">rewrite</span> ler_nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x &lt;= l.+<span class="mi">2</span> * <span class="mi">2</span> ^ l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk12e"><span class="highlight"><span class="nb">rewrite</span> mulnC leq_mul2l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ l == <span class="mi">0</span>) || (c &lt; l.+<span class="mi">2</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk12f"><span class="highlight"><span class="nb">rewrite</span> -[l.+<span class="mi">2</span>](addnK (delta l.+<span class="mi">1</span>)) addnC -deltaS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ l == <span class="mi">0</span>) || (c &lt; Œîl.+<span class="mi">2</span> - Œîl.+<span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk130"><span class="highlight"><span class="nb">rewrite</span> ltn_sub2r <span class="nl">?orbT</span> // [X <span class="kr">in</span> _ &lt; X]deltaS //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">rLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dlLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">n &lt; Œîl.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">n - Œîl.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîl.+<span class="mi">1</span> &lt; Œîl.+<span class="mi">1</span> + l.+<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> addnS ltnS leq_addr.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk131"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux_sint</span> <span class="nv">n</span> : ((psi `[n])%:R)%R = psi_aux (troot n).-<span class="mi">1</span> `[n].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(`[n])%:R)%R = œà&#39;((‚àán).-<span class="mi">1</span>) `[n]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk132"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(`[n])%:R)%R = œà&#39;((‚àán).-<span class="mi">1</span>) `[n]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk133"><span class="highlight"><span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(`[n])%:R)%R == œà&#39;((‚àán).-<span class="mi">1</span>) `[n]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk134"><span class="highlight"><span class="nb">rewrite</span> eq_le psi_max andbT.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(`[n])%:R &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk135"><span class="highlight"><span class="nb">case</span>: (psiE `[n]) =&gt; l -&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk136"><span class="highlight"><span class="nb">have</span> [E|E] := leqP (troot n).-<span class="mi">1</span> l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk137" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk137"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk138"><span class="highlight"><span class="nb">rewrite</span> -(subnK E).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l - (‚àán).-<span class="mi">1</span> + (‚àán).-<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk139" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk139"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk13a"><span class="highlight"><span class="nb">elim</span>: (_ - _) =&gt; [|k IH] //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà&#39;(k + (‚àán).-<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(k.+<span class="mi">1</span> + (‚àán).-<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk13b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk13b"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk13c"><span class="highlight"><span class="nb">apply</span>: le_trans IH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(k.+<span class="mi">1</span> + (‚àán).-<span class="mi">1</span>) `[n] &lt;= œà&#39;(k + (‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk13d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk13d"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk13e"><span class="highlight"><span class="nb">rewrite</span> addSn.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;((k + (‚àán).-<span class="mi">1</span>).+<span class="mi">1</span>) `[n] &lt;= œà&#39;(k + (‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk13f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk13f"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk140"><span class="highlight"><span class="nb">apply</span>: psi_aux_decr =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= k + (‚àán).-<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk141" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk141"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk142"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> leq_addl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk143"><span class="highlight"><span class="nb">rewrite</span> -(subKn (ltnW E)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;((‚àán).-<span class="mi">1</span> - ((‚àán).-<span class="mi">1</span> - l)) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk144"><span class="highlight"><span class="nb">elim</span>: (_ - l) =&gt; [|k IH].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;((‚àán).-<span class="mi">1</span> - <span class="mi">0</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk145" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà&#39;((‚àán).-<span class="mi">1</span> - k) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk145"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;((‚àán).-<span class="mi">1</span> - k.+<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk146"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> subn0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà&#39;((‚àán).-<span class="mi">1</span> - k) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;((‚àán).-<span class="mi">1</span> - k.+<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk147"><span class="highlight"><span class="nb">apply</span>: le_trans IH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;((‚àán).-<span class="mi">1</span> - k.+<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span> - k) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk148"><span class="highlight"><span class="nb">rewrite</span> subnS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(((‚àán).-<span class="mi">1</span> - k).-<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span> - k) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk149"><span class="highlight"><span class="nb">have</span> [|E1] := leqP (troot n).-<span class="mi">1</span> k.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt;= k -&gt;
(œà&#39;(((‚àán).-<span class="mi">1</span> - k).-<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span> - k) `[n])%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk14a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk14a"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(((‚àán).-<span class="mi">1</span> - k).-<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span> - k) `[n])%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk14b"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -subn_eq0 =&gt; /eqP-&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(((‚àán).-<span class="mi">1</span> - k).-<span class="mi">1</span>) `[n] &lt;= œà&#39;((‚àán).-<span class="mi">1</span> - k) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk14c"><span class="highlight"><span class="nb">rewrite</span> -{<span class="mi">2</span>}[_-_]prednK <span class="nl">?subn_gt0</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(((‚àán).-<span class="mi">1</span> - k).-<span class="mi">1</span>) `[n] &lt;=
 œà&#39;(((‚àán).-<span class="mi">1</span> - k).-<span class="mi">1</span>.+<span class="mi">1</span>) `[n])%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk14d"><span class="highlight"><span class="nb">apply</span>: psi_aux_incr =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((‚àán).-<span class="mi">1</span> - k).-<span class="mi">1</span> &lt; (‚àán).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk14e"><span class="highlight"><span class="nb">case</span>: _.<span class="mf">-1 E1</span> =&gt; // u _; <span class="nb">case</span>: k =&gt; // k.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(u.+<span class="mi">1</span> - k.+<span class="mi">1</span>).-<span class="mi">1</span> &lt; u.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk14f"><span class="highlight"><span class="nb">apply</span>: leq_trans (_ : u.+<span class="mi">1</span>.-<span class="mi">1</span> &lt; u.+<span class="mi">1</span>) =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u, k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(u.+<span class="mi">1</span> - k.+<span class="mi">1</span>).-<span class="mi">1</span> &lt; u.+<span class="mi">1</span>.-<span class="mi">1</span>.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> ltnS -!subn1 leq_sub2r // leq_subr.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.2 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk150"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_sint_phi</span> <span class="nv">n</span> : (psi `[n]).*<span class="mi">2</span> = (phi n.+<span class="mi">1</span>).-<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[n]).*<span class="mi">2</span> = œï(n.+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk151"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[n]).*<span class="mi">2</span> = œï(n.+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk152"><span class="highlight"><span class="nb">have</span> [|nP] := leqP n <span class="mi">0</span>; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">case</span>: (n)=&gt; //; <span class="nb">rewrite</span> psi_sint0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[n]).*<span class="mi">2</span> = œï(n.+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk153"><span class="highlight"><span class="nb">apply</span>/eqP; <span class="nb">rewrite</span> -(eqr_nat int_numDomainType).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(`[n]).*<span class="mi">2</span>%:R)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk154"><span class="highlight"><span class="nb">rewrite</span> -muln2 natrM mulr_natr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(`[n])%:R *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk155"><span class="highlight"><span class="nb">rewrite</span> psi_aux_sint // psi_auxE_lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> *
    #|` [fset i | i <span class="kr">in</span> `[n] &amp; ((‚àán).-<span class="mi">1</span> &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
   \sum_(i &lt;- `[n] | (‚àái &lt;= (‚àán).-<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk156"><span class="highlight"><span class="nb">rewrite</span> (_ : [fset _ <span class="kr">in</span> _ | _] = [fset i <span class="kr">in</span> `[n] | delta (troot n) &lt;= i]);
   <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[fset H
   | H <span class="kr">in</span> mem_fin (fset_finpred `[n])
   &amp; (‚àán).-<span class="mi">1</span> &lt; ‚àáH] = [fset i | i <span class="kr">in</span> `[n] &amp; Œî(‚àán) &lt;= i]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk157" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk157"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> *
    #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œî(‚àán) &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
   \sum_(i &lt;- `[n] | (‚àái &lt;= (‚àán).-<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk158"><span class="highlight"><span class="nb">apply</span>/fsetP=&gt; i; <span class="nb">rewrite</span> !inE; <span class="nb">congr</span> (_ &amp;&amp; _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((‚àán).-<span class="mi">1</span> &lt; ‚àái) = (Œî(‚àán) &lt;= i)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk159" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk159"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> *
    #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œî(‚àán) &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
   \sum_(i &lt;- `[n] | (‚àái &lt;= (‚àán).-<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk15a"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> prednK <span class="nl">?troot_gt0</span> // root_delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> *
    #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œî(‚àán) &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
   \sum_(i &lt;- `[n] | (‚àái &lt;= (‚àán).-<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk15b"><span class="highlight"><span class="nb">rewrite</span> sint_sub <span class="nl">?delta_gt0</span> <span class="nl">?troot_gt0</span> // card_sint //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> +
   \sum_(i &lt;- `[n] | (‚àái &lt;= (‚àán).-<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk15c"><span class="highlight"><span class="nb">rewrite</span> (_ : \sum_(i &lt;- _ | _) _  = phi (delta (troot n))); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái = œï(Œî(‚àán))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk15d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk15d"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk15e"><span class="highlight"><span class="nb">rewrite</span> phiE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán)) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk15f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk15f"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk160"><span class="highlight"><span class="nb">rewrite</span> [RHS](eq_bigl 
        (<span class="kr">fun</span> <span class="nv">i</span> : &#39;I_ _ =&gt; (i : nat) \<span class="kr">in</span> (enum_fset `[n]))); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xpredT =<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">i</span> : &#39;I_(Œî(‚àán)) =&gt; i \<span class="kr">in</span> `[n])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk161" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk161"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> `[n]) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk162" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk162"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk163"><span class="highlight"><span class="nb">move</span>=&gt; i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_(Œî(‚àán))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">true = (i \<span class="kr">in</span> `[n])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk164" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk164"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> `[n]) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk165" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk165"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk166"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> mem_sint leq0n (leq_trans (ltn_ord _)) // delta_root_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> `[n]) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk167" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk167"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk168"><span class="highlight"><span class="nb">elim</span>: enum_fset (fset_uniq `[n]) =&gt; /= [_|a l IH /andP[aNIl lU]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [::] | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> [::]) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk169" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk169"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (a :: l) | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk16a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk16a"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk16b"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> big_nil big1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (a :: l) | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk16c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk16c"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk16d"><span class="highlight"><span class="nb">rewrite</span> big_cons /= IH //; <span class="nb">case</span>: leqP =&gt; aLb; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(‚àán).-<span class="mi">1</span> &lt; ‚àáa</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk16e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk16e"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk16f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk16f"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk170"><span class="highlight"><span class="nb">rewrite</span> prednK <span class="nl">?troot_gt0</span> // <span class="kr">in</span> aLb.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àán &lt;= ‚àáa</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk171" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk171"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk172" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk172"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk173"><span class="highlight"><span class="nb">apply</span>: eq_bigl =&gt; i; <span class="nb">rewrite</span> inE eqn_leq [a &lt;= i]leqNgt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àán &lt;= ‚àáa</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_(Œî(‚àán))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \<span class="kr">in</span> l) = (i &lt;= a) &amp;&amp; ~~ (i &lt; a) || (i \<span class="kr">in</span> l)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk174" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk174"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk175" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk175"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk176"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> (leq_trans (ltn_ord i)) <span class="nl">?andbF</span> // -root_delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk177" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk177"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk178"><span class="highlight"><span class="nb">have</span> aLn : a &lt; Œî(‚àán).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; Œî(‚àán)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk179" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; Œî(‚àán)</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk179"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk17a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk17a"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk17b"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -root_delta_lt -[troot n]prednK // troot_gt0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; Œî(‚àán)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> a :: l) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk17c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk17c"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk17d"><span class="highlight"><span class="nb">rewrite</span> [RHS](bigD1 (Ordinal aLn)) ?(inE, eqxx) //=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; Œî(‚àán)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái)%N =
(<span class="mi">2</span> ^ ‚àáa +
 \sum_(i &lt; Œî(‚àán) | (i \<span class="kr">in</span> a :: l) &amp;&amp;
                   (i != Ordinal aLn)) <span class="mi">2</span> ^ ‚àái)%N</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk17e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk17e"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk17f"><span class="highlight"><span class="nb">congr</span> ((_ + _)%nat).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; Œî(‚àán)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | (i \<span class="kr">in</span> a :: l) &amp;&amp; (i != Ordinal aLn))
   <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk180" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk180"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk181"><span class="highlight"><span class="nb">apply</span>: eq_bigl =&gt; i; <span class="nb">rewrite</span> inE -val_eqE /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | ‚àái &lt;= (‚àán).-<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œî(‚àán) | i \<span class="kr">in</span> l) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt;= (‚àán).-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; Œî(‚àán)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_(Œî(‚àán))</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \<span class="kr">in</span> l) = ((i == a) || (i \<span class="kr">in</span> l)) &amp;&amp; (i != a)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk182" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk182"><hr></label><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk183"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: (_ =P _); <span class="nb">rewrite</span> <span class="nl">?andbT</span> // =&gt; -&gt;; <span class="nb">rewrite</span> (negPf aNIl).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span> * (n - Œî(‚àán)).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œî(‚àán)))%:R -
  ((‚àán).-<span class="mi">1</span> * <span class="mi">2</span> ^ (‚àán).-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk184"><span class="highlight"><span class="nb">set</span> m := troot n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * (n - Œîm).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîm))%:R -
  (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk185"><span class="highlight"><span class="nb">rewrite</span> -[n - _]/(tmod n).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * (tmod n).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîm))%:R -
  (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk186"><span class="highlight"><span class="nb">set</span> p := tmod n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * p.+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîm))%:R -
  (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk187"><span class="highlight"><span class="nb">rewrite</span> phi_deltaE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * p.+<span class="mi">1</span>).-<span class="mi">1</span> + (<span class="mi">1</span> + m * <span class="mi">2</span> ^ m - <span class="mi">2</span> ^ m))%:R -
  (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight"><span class="c">(* taking care of  m * 2 ^ m - 2 ^ m *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk188"><span class="highlight"><span class="nb">rewrite</span> -{<span class="mi">2</span>}[m]prednK <span class="nl">?troot_gt0</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * p.+<span class="mi">1</span>).-<span class="mi">1</span> +
   (<span class="mi">1</span> + m.-<span class="mi">1</span>.+<span class="mi">1</span> * <span class="mi">2</span> ^ m - <span class="mi">2</span> ^ m))%:R -
  (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk189"><span class="highlight"><span class="nb">rewrite</span> mulSn addnCA [(<span class="mi">2</span> ^ _ + _)%nat]addnC addnK add1n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * p.+<span class="mi">1</span>).-<span class="mi">1</span> + (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m).+<span class="mi">1</span>)%:R -
  (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk18a"><span class="highlight"><span class="nb">rewrite</span> addnS -addSn prednK; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">2</span> ^ m.-<span class="mi">1</span> * p.+<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk18b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk18b"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * p.+<span class="mi">1</span> + m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m)%:R -
  (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk18c"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> muln_gt0 expn_gt0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * p.+<span class="mi">1</span> + m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m)%:R -
  (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp"><span class="highlight"><span class="c">(* taking care of m.-1 * 2 ^ m - m.-1 * 2 ^ m.-1 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk18d"><span class="highlight"><span class="nb">rewrite</span> -{<span class="mi">3</span>}[m]prednK <span class="nl">?troot_gt0</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * p.+<span class="mi">1</span> + m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>.+<span class="mi">1</span>)%:R -
  (m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R) *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk18e"><span class="highlight"><span class="nb">rewrite</span> expnS mul2n -addnn mulnDr addnA natrD addrK.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ m.-<span class="mi">1</span> * p.+<span class="mi">1</span> + m.-<span class="mi">1</span> * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R *+ <span class="mi">2</span>)%R ==
(œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk18f"><span class="highlight"><span class="nb">rewrite</span> mulnC -mulnDl addSnnS prednK <span class="nl">?troot_gt0</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((p + m) * <span class="mi">2</span> ^ m.-<span class="mi">1</span>)%:R *+ <span class="mi">2</span>)%R == (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk190"><span class="highlight"><span class="nb">rewrite</span> -mulr_natr -natrM muln2 eqr_nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((p + m) * <span class="mi">2</span> ^ m.-<span class="mi">1</span>).*<span class="mi">2</span> == œï(n.+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk191"><span class="highlight"><span class="nb">rewrite</span> phi_modSE -/m -/p.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((p + m) * <span class="mi">2</span> ^ m.-<span class="mi">1</span>).*<span class="mi">2</span> == (<span class="mi">1</span> + (m + p) * <span class="mi">2</span> ^ m).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk192"><span class="highlight"><span class="nb">rewrite</span> add1n -pred_Sn addnC -{<span class="mi">4</span>}[m]prednK <span class="nl">?troot_gt0</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nP</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((m + p) * <span class="mi">2</span> ^ m.-<span class="mi">1</span>).*<span class="mi">2</span> == (m + p) * <span class="mi">2</span> ^ m.-<span class="mi">1</span>.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> expnS mulnCA mul2n.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk193"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_sint_leq</span> <span class="nv">a</span> <span class="nv">b</span> : a &lt;= b -&gt; psi `[a] &lt;= psi `[b].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= b -&gt; œà(`[a]) &lt;= œà(`[b])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk194"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt;= b -&gt; œà(`[a]) &lt;= œà(`[b])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk195"><span class="highlight"><span class="nb">move</span>=&gt; aLb; <span class="nb">apply</span>: psi_sub; <span class="nb">apply</span>/fsubsetP=&gt; i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLb</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt;= b</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> `[a] -&gt; i \<span class="kr">in</span> `[b]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> !mem_sint /= =&gt; iLa; <span class="nb">apply</span>: leq_trans aLb.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk196"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_sintS</span> <span class="nv">n</span> : (psi `[n.+<span class="mi">1</span>] = psi `[n] + <span class="mi">2</span> ^ (troot n.+<span class="mi">1</span>).-<span class="mi">1</span>)%nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[n.+<span class="mi">1</span>]) = (œà(`[n]) + <span class="mi">2</span> ^ (‚àán.+<span class="mi">1</span>).-<span class="mi">1</span>)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk197"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[n.+<span class="mi">1</span>]) = (œà(`[n]) + <span class="mi">2</span> ^ (‚àán.+<span class="mi">1</span>).-<span class="mi">1</span>)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk198"><span class="highlight"><span class="nb">have</span> F : <span class="mi">0</span> &lt; phi n.+<span class="mi">1</span> <span class="bp">by</span> <span class="nb">apply</span>: phi_le (_ : <span class="mi">1</span> &lt;= _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; œï(n.+<span class="mi">1</span>)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[n.+<span class="mi">1</span>]) = (œà(`[n]) + <span class="mi">2</span> ^ (‚àán.+<span class="mi">1</span>).-<span class="mi">1</span>)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk199"><span class="highlight"><span class="nb">apply</span>: double_inj; <span class="nb">rewrite</span> doubleD.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; œï(n.+<span class="mi">1</span>)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[n.+<span class="mi">1</span>]).*<span class="mi">2</span> = (œà(`[n]).*<span class="mi">2</span> + (<span class="mi">2</span> ^ (‚àán.+<span class="mi">1</span>).-<span class="mi">1</span>).*<span class="mi">2</span>)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk19a"><span class="highlight"><span class="nb">rewrite</span> !psi_sint_phi //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; œï(n.+<span class="mi">1</span>)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(n.+<span class="mi">2</span>).-<span class="mi">1</span> = (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span> + (<span class="mi">2</span> ^ (‚àán.+<span class="mi">1</span>).-<span class="mi">1</span>).*<span class="mi">2</span>)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk19b"><span class="highlight"><span class="nb">rewrite</span> -mul2n -expnS prednK <span class="nl">?troot_gt0</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">0</span> &lt; œï(n.+<span class="mi">1</span>)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(n.+<span class="mi">2</span>).-<span class="mi">1</span> = (œï(n.+<span class="mi">1</span>).-<span class="mi">1</span> + <span class="mi">2</span> ^ ‚àán.+<span class="mi">1</span>)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> phiE big_ord_recr -phiE prednDl.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.2 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk19c"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_leD</span> <span class="nv">a</span> <span class="nv">b</span> : psi `[a + b] &lt;= (psi `[a]).*<span class="mi">2</span> + <span class="mi">2</span> ^ (b.-<span class="mi">1</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[a + b]) &lt;= œà(`[a]).*<span class="mi">2</span> + <span class="mi">2</span> ^ b.-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk19d"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[a + b]) &lt;= œà(`[a]).*<span class="mi">2</span> + <span class="mi">2</span> ^ b.-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk19e"><span class="highlight"><span class="nb">case</span>: b =&gt; [|b]; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">rewrite</span> addn0 -addnn -addnA leq_addr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[a + b.+<span class="mi">1</span>]) &lt;= œà(`[a]).*<span class="mi">2</span> + <span class="mi">2</span> ^ b.+<span class="mi">1</span>.-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk19f"><span class="highlight"><span class="nb">rewrite</span> -leq_double doubleD [_.+<span class="mi">1</span>.-<span class="mi">1</span>]/=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[a + b.+<span class="mi">1</span>]).*<span class="mi">2</span> &lt;= (œà(`[a]).*<span class="mi">2</span>).*<span class="mi">2</span> + (<span class="mi">2</span> ^ b).*<span class="mi">2</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a0"><span class="highlight"><span class="nb">rewrite</span> !psi_sint_phi -addSn -ltnS prednK <span class="nl">?phi_gt0</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(a.+<span class="mi">1</span> + b.+<span class="mi">1</span>) &lt;= ((œï(a.+<span class="mi">1</span>).-<span class="mi">1</span>).*<span class="mi">2</span> + (<span class="mi">2</span> ^ b).*<span class="mi">2</span>).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a1"><span class="highlight"><span class="nb">apply</span>: leq_trans (phi_leD _ _) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(a.+<span class="mi">1</span>).*<span class="mi">2</span> + (<span class="mi">2</span> ^ b.+<span class="mi">1</span>).-<span class="mi">1</span> &lt;=
((œï(a.+<span class="mi">1</span>).-<span class="mi">1</span>).*<span class="mi">2</span> + (<span class="mi">2</span> ^ b).*<span class="mi">2</span>).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a2"><span class="highlight"><span class="nb">rewrite</span> -{<span class="mi">1</span>}[phi (a.+<span class="mi">1</span>)]prednK <span class="nl">?phi_gt0</span> // doubleS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">a, b</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(a.+<span class="mi">1</span>).-<span class="mi">1</span>).*<span class="mi">2</span>.+<span class="mi">2</span> + (<span class="mi">2</span> ^ b.+<span class="mi">1</span>).-<span class="mi">1</span> &lt;=
((œï(a.+<span class="mi">1</span>).-<span class="mi">1</span>).*<span class="mi">2</span> + (<span class="mi">2</span> ^ b).*<span class="mi">2</span>).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> expnS mul2n -prednDr <span class="nl">?double_gt0</span> <span class="nl">?expn_gt0</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.3 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a3"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_SS_le</span> <span class="nv">n</span> : psi `[n.+<span class="mi">2</span>] &gt;= <span class="mi">2</span> ^(troot n).+<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (‚àán).+<span class="mi">1</span> &lt;= œà(`[n.+<span class="mi">2</span>])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a4"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (‚àán).+<span class="mi">1</span> &lt;= œà(`[n.+<span class="mi">2</span>])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a5"><span class="highlight"><span class="nb">case</span>: n =&gt; [|n]; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">rewrite</span> psi_sint2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (‚àán.+<span class="mi">1</span>).+<span class="mi">1</span> &lt;= œà(`[n.+<span class="mi">3</span>])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a6"><span class="highlight"><span class="nb">have</span> /psi_sint_leq/(leq_trans _)-&gt;// : (delta (troot n.+<span class="mi">1</span>)).+<span class="mi">2</span> &lt;= n.+<span class="mi">3</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(Œî(‚àán.+<span class="mi">1</span>)).+<span class="mi">1</span> &lt; n.+<span class="mi">3</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1a7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1a7"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (‚àán.+<span class="mi">1</span>).+<span class="mi">1</span> &lt;= œà(`[(Œî(‚àán.+<span class="mi">1</span>)).+<span class="mi">2</span>])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a8"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> !ltnS -root_delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (‚àán.+<span class="mi">1</span>).+<span class="mi">1</span> &lt;= œà(`[(Œî(‚àán.+<span class="mi">1</span>)).+<span class="mi">2</span>])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1a9"><span class="highlight"><span class="nb">set</span> s := troot _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ s.+<span class="mi">1</span> &lt;= œà(`[(Œîs).+<span class="mi">2</span>])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1aa"><span class="highlight"><span class="nb">have</span> [|tLs] := leqP s <span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s &lt;= <span class="mi">1</span> -&gt; <span class="mi">2</span> ^ s.+<span class="mi">1</span> &lt;= œà(`[(Œîs).+<span class="mi">2</span>])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1ab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1ab"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ s.+<span class="mi">1</span> &lt;= œà(`[(Œîs).+<span class="mi">2</span>])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1ac"><span class="highlight"><span class="nb">case</span>: s =&gt; [|[|]] //; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">rewrite</span> psi_sint2 ?(leq_trans _ thLN).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt; <span class="mi">1</span> -&gt; <span class="mi">2</span> ^ <span class="mi">2</span> &lt;= œà(`[(Œî1).+<span class="mi">2</span>])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1ad" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1ad"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ s.+<span class="mi">1</span> &lt;= œà(`[(Œîs).+<span class="mi">2</span>])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1ae"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> psi_sint3.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ s.+<span class="mi">1</span> &lt;= œà(`[(Œîs).+<span class="mi">2</span>])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1af"><span class="highlight"><span class="nb">rewrite</span> -leq_double psi_sint_phi phi_modSE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ s.+<span class="mi">1</span>).*<span class="mi">2</span> &lt;=
(<span class="mi">1</span> + (‚àá(Œîs).+<span class="mi">2</span> + tmod (Œîs).+<span class="mi">2</span>) * <span class="mi">2</span> ^ ‚àá(Œîs).+<span class="mi">2</span>).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1b0"><span class="highlight"><span class="nb">have</span> tE : troot (delta s).+<span class="mi">2</span> = s.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àá(Œîs).+<span class="mi">2</span> = s</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1b1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àá(Œîs).+<span class="mi">2</span> = s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1b1"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ s.+<span class="mi">1</span>).*<span class="mi">2</span> &lt;=
(<span class="mi">1</span> + (‚àá(Œîs).+<span class="mi">2</span> + tmod (Œîs).+<span class="mi">2</span>) * <span class="mi">2</span> ^ ‚àá(Œîs).+<span class="mi">2</span>).-<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1b2"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/eqP; <span class="nb">rewrite</span> trootE deltaS ltnW //= -addn2 addSnnS leq_add2l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àá(Œîs).+<span class="mi">2</span> = s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ s.+<span class="mi">1</span>).*<span class="mi">2</span> &lt;=
(<span class="mi">1</span> + (‚àá(Œîs).+<span class="mi">2</span> + tmod (Œîs).+<span class="mi">2</span>) * <span class="mi">2</span> ^ ‚àá(Œîs).+<span class="mi">2</span>).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1b3"><span class="highlight"><span class="nb">rewrite</span> tE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àá(Œîs).+<span class="mi">2</span> = s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ s.+<span class="mi">1</span>).*<span class="mi">2</span> &lt;= (<span class="mi">1</span> + (s + tmod (Œîs).+<span class="mi">2</span>) * <span class="mi">2</span> ^ s).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1b4"><span class="highlight"><span class="nb">have</span>-&gt;: tmod (delta s).+<span class="mi">2</span> = <span class="mi">2</span> <span class="bp">by</span> <span class="nb">rewrite</span> /tmod tE -addn2 addnC addnK.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">tE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àá(Œîs).+<span class="mi">2</span> = s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ s.+<span class="mi">1</span>).*<span class="mi">2</span> &lt;= (<span class="mi">1</span> + (s + <span class="mi">2</span>) * <span class="mi">2</span> ^ s).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -mul2n expnS mulnA /= leq_mul2r (leq_add2r <span class="mi">2</span> <span class="mi">2</span>) tLs orbT.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1b5"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux0_sint</span> <span class="nv">n</span> : psi_aux <span class="mi">0</span> `[n] = n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà&#39;(<span class="mi">0</span>) `[n] = n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1b6"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà&#39;(<span class="mi">0</span>) `[n] = n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1b7"><span class="highlight"><span class="nb">rewrite</span> /psi_aux add0n subr0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((\sum_(i &lt;- `[n]) <span class="mi">2</span> ^ minn (‚àái) <span class="mi">0</span>)%:R)%R = n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1b8"><span class="highlight"><span class="nb">apply</span>/eqP; <span class="nb">rewrite</span> -natz eqr_nat; <span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n]) <span class="mi">2</span> ^ minn (‚àái) <span class="mi">0</span> = n</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1b9"><span class="highlight"><span class="nb">rewrite</span> (eq_bigr (<span class="kr">fun</span> =&gt; <span class="mi">1</span>)) =&gt; [|i _].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n]) <span class="mi">1</span> = n</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1ba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1ba"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ minn (‚àái) <span class="mi">0</span> = <span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1bb"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> fsum_nat_const card_sint // subn0 muln1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ minn (‚àái) <span class="mi">0</span> = <span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> minn0.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.4.1 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1bc"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_sint_min</span> <span class="nv">n</span> : n &lt;= psi `[n].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n &lt;= œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1bd"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n &lt;= œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1be"><span class="highlight"><span class="nb">rewrite</span> -(ler_nat int_numDomainType).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(n%:R &lt;= œà(`[n])%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1bf"><span class="highlight"><span class="nb">rewrite</span> natz -[X <span class="kr">in</span> (X &lt;= _)%R]psi_aux0_sint.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(<span class="mi">0</span>) `[n] &lt;= œà(`[n])%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: psi_max.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1c0"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">sum_sint</span> (<span class="nv">F</span> : nat -&gt; nat) <span class="nv">n</span> : 
  \sum_(i &lt;- `[n]) F i  = \sum_(i &lt; n) F i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n]) F i = \sum_(i &lt; n) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1c1"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n]) F i = \sum_(i &lt; n) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1c2"><span class="highlight"><span class="nb">rewrite</span> big_seq_cond.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | (i \<span class="kr">in</span> `[n]) &amp;&amp; true) F i =
\sum_(i &lt; n) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1c3"><span class="highlight"><span class="nb">rewrite</span> [LHS](eq_bigl (<span class="kr">fun</span> <span class="nv">i</span> =&gt; (i &lt; n))); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; (i \<span class="kr">in</span> `[n]) &amp;&amp; true) =<span class="mi">1</span>
(<span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; i &lt; n)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1c4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1c4"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | i &lt; n) F i = \sum_(i &lt; n) F i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1c5"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>=&gt; i; <span class="nb">rewrite</span> mem_sint andbT.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | i &lt; n) F i = \sum_(i &lt; n) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1c6"><span class="highlight"><span class="nb">rewrite</span> [RHS](eq_bigl 
        (<span class="kr">fun</span> <span class="nv">i</span> : &#39;I_ _ =&gt; ((i : nat) \<span class="kr">in</span> (enum_fset `[n])))); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xpredT =<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">i</span> : &#39;I_n =&gt; i \<span class="kr">in</span> `[n])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1c7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1c7"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> `[n]) F i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1c8"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>=&gt; i; <span class="nb">rewrite</span> mem_sint ltn_ord.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> `[n]) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1c9"><span class="highlight"><span class="nb">elim</span>: enum_fset (fset_uniq `[n]) =&gt; /= [_|a l IH /andP[aNIl lU]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [::] | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> [::]) F i</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1ca" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1ca"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (a :: l) | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> a :: l) F i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1cb"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> big_nil big1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (a :: l) | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> a :: l) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1cc"><span class="highlight"><span class="nb">rewrite</span> big_cons /= IH //; <span class="nb">case</span>: (boolP (a &lt; n)) =&gt; aLn; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~~ (a &lt; n)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; n | i \<span class="kr">in</span> l) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> a :: l) F i</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1cd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1cd"><hr></label><div class="goal-conclusion"><span class="highlight">(F a + \sum_(i &lt; n | i \<span class="kr">in</span> l) F i)%N =
\sum_(i &lt; n | i \<span class="kr">in</span> a :: l) F i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1ce"><span class="highlight"><span class="nb">apply</span>: eq_bigl =&gt; i; <span class="nb">move</span>: (ltn_ord i); <span class="nb">rewrite</span> inE; <span class="nb">case</span>: eqP =&gt; [-&gt;| //].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~~ (a &lt; n)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; n -&gt; (a \<span class="kr">in</span> l) = true || (a \<span class="kr">in</span> l)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1cf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1cf"><hr></label><div class="goal-conclusion"><span class="highlight">(F a + \sum_(i &lt; n | i \<span class="kr">in</span> l) F i)%N =
\sum_(i &lt; n | i \<span class="kr">in</span> a :: l) F i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1d0"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> (negPf aLn).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(F a + \sum_(i &lt; n | i \<span class="kr">in</span> l) F i)%N =
\sum_(i &lt; n | i \<span class="kr">in</span> a :: l) F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1d1"><span class="highlight"><span class="nb">rewrite</span> [RHS](bigD1 (Ordinal aLn)) ?(inE, eqxx) //=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(F a + \sum_(i &lt; n | i \<span class="kr">in</span> l) F i)%N =
(F a +
 \sum_(i &lt; n | (i \<span class="kr">in</span> a :: l) &amp;&amp; (i != Ordinal aLn))
    F i)%N</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1d2"><span class="highlight"><span class="nb">congr</span> ((_ + _)%nat).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; n | i \<span class="kr">in</span> l) F i =
\sum_(i &lt; n | (i \<span class="kr">in</span> a :: l) &amp;&amp; (i != Ordinal aLn))
   F i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1d3"><span class="highlight"><span class="nb">apply</span>: eq_bigl =&gt; i; <span class="nb">rewrite</span> inE -val_eqE /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n, a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l -&gt;
\sum_(i &lt;- l | i &lt; n) F i =
\sum_(i &lt; n | i \<span class="kr">in</span> l) F i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \<span class="kr">in</span> l) = ((i == a) || (i \<span class="kr">in</span> l)) &amp;&amp; (i != a)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: (_ =P _); <span class="nb">rewrite</span> <span class="nl">?andbT</span> // =&gt; -&gt;; <span class="nb">rewrite</span> (negPf aNIl).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1d4"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">max_set_nat</span> (<span class="nv">e</span> : {fset nat}) : #|`e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1d5"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1d6"><span class="highlight"><span class="nb">have</span> [n cI] := ubnP #|`e|; <span class="nb">elim</span>: n =&gt; // [] [|n] IH e cI <span class="kr">in</span> e cI *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; <span class="mi">0</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; <span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1d7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">2</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1d7"><hr></label><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1d8"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>: cI; <span class="nb">rewrite</span> ltnS leqn0 =&gt; /eqP-&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1d9"><span class="highlight"><span class="nb">move</span>: cI; <span class="nb">rewrite</span> leq_eqVlt =&gt; /orP[/eqP eC|]; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.+<span class="mi">1</span> &lt; n.+<span class="mi">2</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1da" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1da"><hr></label><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1db"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: IH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1dc"><span class="highlight"><span class="nb">have</span> /(eq_fbigmax id)[/= i [iIe iM]] : <span class="mi">0</span> &lt; #|`e| <span class="bp">by</span> <span class="nb">rewrite</span> -ltnS eC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1dd"><span class="highlight"><span class="nb">have</span>  eE : #|` e| = #|` e `\ i|.+<span class="mi">1</span> <span class="bp">by</span> <span class="nb">rewrite</span> (cardfsD1 i) iIe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1de"><span class="highlight"><span class="nb">have</span> /IH H : #|`e `\ i| &lt; n.+<span class="mi">1</span> <span class="bp">by</span> <span class="nb">rewrite</span> -eE -ltnS eC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e `\ i) i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1df"><span class="highlight"><span class="nb">rewrite</span> eE /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e `\ i) i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e `\ i| &lt;= \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e0"><span class="highlight"><span class="nb">case</span> eIE : (#|` e `\ i|) =&gt; [//|k].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e `\ i) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eIE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i| = k.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt; \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e1"><span class="highlight"><span class="nb">have</span> /(eq_fbigmax id)[j []] : <span class="mi">0</span> &lt; #|` e `\ i| <span class="bp">by</span> <span class="nb">rewrite</span> eIE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e `\ i) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eIE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i| = k.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">j \<span class="kr">in</span> e `\ i -&gt;
\max_(i &lt;- e `\ i) i = j -&gt; k &lt; \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e2"><span class="highlight"><span class="nb">rewrite</span> !inE =&gt; /andP[jDi jIe] jM.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e `\ i) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eIE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i| = k.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jDi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j != i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) i = j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt; \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e3"><span class="highlight"><span class="nb">move</span>: H; <span class="nb">rewrite</span> eIE =&gt; H.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eIE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i| = k.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jDi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j != i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) i = j</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">k.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= \max_(i &lt;- e `\ i) i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">k &lt; \max_(i &lt;- e) i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e4"><span class="highlight"><span class="nb">apply</span>: leq_ltn_trans H _; <span class="nb">rewrite</span> iM jM.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eIE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i| = k.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jDi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j != i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) i = j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">j &lt; i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e5"><span class="highlight"><span class="nb">have</span> : j &lt;= i <span class="bp">by</span> <span class="nb">rewrite</span> -iM; <span class="nb">apply</span>: leq_bigfmax.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt; #|` e|.-<span class="mi">1</span> &lt;= \max_(i &lt;- e) i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e|.+<span class="mi">1</span> = n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eIE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\ i| = k.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jDi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j != i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">j \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">jM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e `\ i) i = j</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">j &lt;= i -&gt; j &lt; i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> leq_eqVlt (negPf jDi).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e6"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_aux_card_le</span> <span class="nv">l</span> <span class="nv">e</span> : (psi_aux l `[#|`e|] &lt;= psi_aux l e)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[#|` e|] &lt;= œà&#39;(l) e)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e7"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[#|` e|] &lt;= œà&#39;(l) e)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e8"><span class="highlight"><span class="nb">rewrite</span> ler_sub // ler_nat leq_add2l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[#|` e|]) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1e9"><span class="highlight"><span class="nb">rewrite</span> (sum_sint (<span class="kr">fun</span> <span class="nv">i</span> =&gt;  <span class="mi">2</span> ^ minn (‚àái) l)) //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1ea"><span class="highlight"><span class="nb">have</span> [n cI] := ubnP #|`e|; <span class="nb">elim</span>: n =&gt; // [] [|n] IH e cI <span class="kr">in</span> e cI *.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; <span class="mi">0</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; <span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1eb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">2</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1eb"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1ec"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>: cI; <span class="nb">rewrite</span> ltnS leqn0 =&gt; /eqP-&gt; ; <span class="nb">rewrite</span> big_ord0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">cI</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt; n.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1ed"><span class="highlight"><span class="nb">move</span>: cI; <span class="nb">rewrite</span> leq_eqVlt =&gt; /orP[/eqP [] eC|]; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.+<span class="mi">1</span> &lt; n.+<span class="mi">2</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk1ee" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk1ee"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1ef"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: IH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f0"><span class="highlight"><span class="nb">have</span> /(eq_fbigmax id)[/= i [iIe iM]] : <span class="mi">0</span> &lt; #|`e| <span class="bp">by</span> <span class="nb">rewrite</span> -ltnS eC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f1"><span class="highlight"><span class="nb">have</span> eE : #|` e| = #|` e `\ i|.+<span class="mi">1</span> <span class="bp">by</span> <span class="nb">rewrite</span> (cardfsD1 i) iIe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f2"><span class="highlight"><span class="nb">rewrite</span> eE big_ord_recr /= (big_fsetD1 i) //= addnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ minn (‚àá#|` e `\ i|) l +
\sum_(i0 &lt; #|` e `\ i|) <span class="mi">2</span> ^ minn (‚àái0) l &lt;=
<span class="mi">2</span> ^ minn (‚àái) l + \sum_(i &lt;- e `\ i) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f3"><span class="highlight"><span class="nb">apply</span>: leq_add; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">apply</span>: IH; <span class="nb">rewrite</span> -eC eE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ minn (‚àá#|` e `\ i|) l &lt;= <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f4"><span class="highlight"><span class="nb">rewrite</span> leq_exp2l // leq_min geq_minr andbT.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">minn (‚àá#|` e `\ i|) l &lt;= ‚àái</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f5"><span class="highlight"><span class="nb">apply</span>: leq_trans (geq_minl _ _) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">‚àá#|` e `\ i| &lt;= ‚àái</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f6"><span class="highlight"><span class="nb">apply</span>: troot_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e `\ i| &lt;= i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f7"><span class="highlight"><span class="nb">rewrite</span> -{<span class="mi">2</span>}iM -ltnS -eE -[#|`_|]prednK; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">rewrite</span> eC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">l, n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e</span>,
#|` e| &lt; n.+<span class="mi">1</span> -&gt;
\sum_(i &lt; #|` e|) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eC</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iM</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">\max_(i &lt;- e) i = i</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">eE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| = #|` e `\ i|.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e|.-<span class="mi">1</span> &lt; (\max_(i &lt;- e) i).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: max_set_nat.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.4.2 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f8"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_card_le</span> <span class="nv">e</span> : psi `[#|`e|] &lt;= psi e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[#|` e|]) &lt;= œà(e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1f9"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[#|` e|]) &lt;= œà(e)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1fa"><span class="highlight"><span class="nb">apply</span>: psi_aux_le_psi =&gt; l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[#|` e|] &lt;= œà&#39;(l) e)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: psi_aux_card_le.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.4.3 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1fb"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_exp</span> <span class="nv">e</span> : psi e &lt;= (<span class="mi">2</span> ^ #|`e|).-<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e) &lt;= (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1fc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e) &lt;= (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1fd"><span class="highlight"><span class="nb">rewrite</span> -(ler_nat int_numDomainType).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e)%:R &lt;= (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1fe"><span class="highlight"><span class="nb">have</span> [l -&gt;] := psiE e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e &lt;= (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk1ff"><span class="highlight"><span class="nb">apply</span>: le_trans (_ : ((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ l)%:R - 
                      (l * <span class="mi">2</span> ^ l)%:R &lt;= _)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e &lt;=
 ((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk200" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk200"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;= (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk201"><span class="highlight"><span class="nb">apply</span>: ler_sub =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l)%:R &lt;=
 ((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk202" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk202"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;= (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk203"><span class="highlight"><span class="nb">rewrite</span> ler_nat leq_add2l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l &lt;= \sum_(i &lt;- e) <span class="mi">2</span> ^ l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk204" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk204"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;= (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk205"><span class="highlight"><span class="nb">apply</span>: leq_sum =&gt; i Hi.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hi</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">true</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ minn (‚àái) l &lt;= <span class="mi">2</span> ^ l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk206" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk206"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;= (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk207"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> leq_exp2l // geq_minr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e) <span class="mi">2</span> ^ l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R &lt;= (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk208"><span class="highlight"><span class="nb">rewrite</span> fsum_nat_const ler_subl_addr -natrD ler_nat [X <span class="kr">in</span> _ &lt;= X]addnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ l).-<span class="mi">1</span> + #|` e| * <span class="mi">2</span> ^ l &lt;=
l * <span class="mi">2</span> ^ l + (<span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk209"><span class="highlight"><span class="nb">rewrite</span> -prednDl <span class="nl">?expn_gt0</span> // -prednDr <span class="nl">?expn_gt0</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ l + #|` e| * <span class="mi">2</span> ^ l).-<span class="mi">1</span> &lt;=
(l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ #|` e|).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk20a"><span class="highlight"><span class="nb">rewrite</span> -!subn1 leq_sub2r //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + #|` e| * <span class="mi">2</span> ^ l &lt;= l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ #|` e|</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk20b"><span class="highlight"><span class="nb">have</span> [E|E] := leqP #|`e| l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + #|` e| * <span class="mi">2</span> ^ l &lt;= l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ #|` e|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk20c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; #|` e|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk20c"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + #|` e| * <span class="mi">2</span> ^ l &lt;= l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ #|` e|</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk20d"><span class="highlight"><span class="nb">rewrite</span> -(subnK E).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (l - #|` e| + #|` e|) +
#|` e| * <span class="mi">2</span> ^ (l - #|` e| + #|` e|) &lt;=
(l - #|` e| + #|` e|) * <span class="mi">2</span> ^ (l - #|` e| + #|` e|) +
<span class="mi">2</span> ^ #|` e|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk20e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; #|` e|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk20e"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + #|` e| * <span class="mi">2</span> ^ l &lt;= l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ #|` e|</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk20f"><span class="highlight"><span class="nb">set</span> u := _ - _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">l - #|` e|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ (u + #|` e|) + #|` e| * <span class="mi">2</span> ^ (u + #|` e|) &lt;=
(u + #|` e|) * <span class="mi">2</span> ^ (u + #|` e|) + <span class="mi">2</span> ^ #|` e|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk210" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; #|` e|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk210"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + #|` e| * <span class="mi">2</span> ^ l &lt;= l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ #|` e|</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk211"><span class="highlight"><span class="nb">rewrite</span> expnD !mulnDl addnAC leq_add2r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">l - #|` e|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ u * <span class="mi">2</span> ^ #|` e| &lt;=
u * (<span class="mi">2</span> ^ u * <span class="mi">2</span> ^ #|` e|) + <span class="mi">2</span> ^ #|` e|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk212" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; #|` e|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk212"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + #|` e| * <span class="mi">2</span> ^ l &lt;= l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ #|` e|</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk213"><span class="highlight"><span class="nb">case</span>: u =&gt; [|u]; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">rewrite</span> mul1n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e| &lt;= l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ u.+<span class="mi">1</span> * <span class="mi">2</span> ^ #|` e| &lt;=
u.+<span class="mi">1</span> * (<span class="mi">2</span> ^ u.+<span class="mi">1</span> * <span class="mi">2</span> ^ #|` e|) + <span class="mi">2</span> ^ #|` e|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk214" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; #|` e|</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk214"><hr></label><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + #|` e| * <span class="mi">2</span> ^ l &lt;= l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ #|` e|</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk215"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> mulSn -addnA leq_addr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; #|` e|</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + #|` e| * <span class="mi">2</span> ^ l &lt;= l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ #|` e|</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk216"><span class="highlight"><span class="nb">rewrite</span> -(subnK (ltnW E)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; #|` e|</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + (#|` e| - l + l) * <span class="mi">2</span> ^ l &lt;=
l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ (#|` e| - l + l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk217"><span class="highlight"><span class="nb">set</span> u := _ - _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; #|` e|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e| - l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + (u + l) * <span class="mi">2</span> ^ l &lt;= l * <span class="mi">2</span> ^ l + <span class="mi">2</span> ^ (u + l)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk218"><span class="highlight"><span class="nb">rewrite</span> expnD !mulnDl addnA addnC leq_add2l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt; #|` e|</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e| - l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l + u * <span class="mi">2</span> ^ l &lt;= <span class="mi">2</span> ^ u * <span class="mi">2</span> ^ l</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -mulSn leq_mul2r ltn_expl // orbT.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.5 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk219"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_diff</span> <span class="nv">e1</span> <span class="nv">e2</span> : psi e1 - psi e2 &lt;= \sum_(i &lt;- e1 `\` e2) <span class="mi">2</span> ^ troot i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1) - œà(e2) &lt;= \sum_(i &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àái</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk21a"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1) - œà(e2) &lt;= \sum_(i &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àái</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk21b"><span class="highlight"><span class="nb">rewrite</span> leq_subLR -(ler_nat int_numDomainType) natrD addrC -ler_subl_addr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e1)%:R - œà(e2)%:R &lt;=
 (\sum_(i &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àái)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk21c"><span class="highlight"><span class="nb">have</span> [l -&gt;] := psiE e1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e1 - œà(e2)%:R &lt;=
 (\sum_(i &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àái)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk21d"><span class="highlight"><span class="nb">apply</span>: le_trans (ler_sub (lexx _) (psi_max _ l)) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e1 - œà&#39;(l) e2 &lt;=
 (\sum_(i &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àái)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk21e"><span class="highlight"><span class="nb">rewrite</span> /psi_aux opprB addrA subrK addnC !natrD opprD addrA addrK.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((\sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R &lt;=
 (\sum_(i &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àái)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk21f"><span class="highlight"><span class="nb">rewrite</span> ler_subl_addr -natrD ler_nat addnC -leq_subLR.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l -
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àái</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk220"><span class="highlight"><span class="nb">set</span> s1 := \sum_(_ &lt;- _) _; <span class="nb">set</span> s2 := \sum_(_ &lt;- _) _; <span class="nb">set</span> s3 := \sum_(_ &lt;- _) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 - s2 &lt;= s3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk221"><span class="highlight"><span class="nb">pose</span> f i := <span class="mi">2</span> ^ minn (troot i) l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 - s2 &lt;= s3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk222"><span class="highlight"><span class="nb">apply</span>: leq_trans (_ :  \sum_(i &lt;- e1 `\` e2) f i &lt;= _); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e1 `\` e2) f i &lt;= s3</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk223" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk223"><hr></label><div class="goal-conclusion"><span class="highlight">s1 - s2 &lt;= \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk224"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: leq_sum =&gt; i _; <span class="nb">rewrite</span> leq_exp2l // geq_minl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 - s2 &lt;= \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk225"><span class="highlight"><span class="nb">rewrite</span> leq_subLR.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 &lt;= s2 + \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk226"><span class="highlight"><span class="nb">rewrite</span> [s1](big_fsetID _ (<span class="kr">fun</span> <span class="nv">i</span> =&gt; i \<span class="kr">in</span> e2)) //=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \<span class="kr">in</span> e2])
   <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \notin e2])
   <span class="mi">2</span> ^ minn (‚àái) l &lt;= s2 + \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk227"><span class="highlight"><span class="nb">apply</span>: leq_add.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \<span class="kr">in</span> e2])
   <span class="mi">2</span> ^ minn (‚àái) l &lt;= s2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk228" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk228"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \notin e2])
   <span class="mi">2</span> ^ minn (‚àái) l &lt;= \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk229"><span class="highlight"><span class="nb">rewrite</span> [s2](big_fsetID _ (<span class="kr">fun</span> <span class="nv">i</span> =&gt; i \<span class="kr">in</span> e1)) //=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \<span class="kr">in</span> e2])
   <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- [fset x | x <span class="kr">in</span> e2 &amp; x \<span class="kr">in</span> e1])
   <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- [fset x | x <span class="kr">in</span> e2 &amp; x \notin e1])
   <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk22a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk22a"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \notin e2])
   <span class="mi">2</span> ^ minn (‚àái) l &lt;= \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk22b"><span class="highlight"><span class="nb">apply</span>: leq_trans (leq_addr _ _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \<span class="kr">in</span> e2])
   <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- [fset x | x <span class="kr">in</span> e2 &amp; x \<span class="kr">in</span> e1])
   <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk22c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk22c"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \notin e2])
   <span class="mi">2</span> ^ minn (‚àái) l &lt;= \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk22d"><span class="highlight"><span class="nb">rewrite</span> leq_eqVlt; <span class="nb">apply</span>/orP; <span class="nb">left</span>; <span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \<span class="kr">in</span> e2])
   <span class="mi">2</span> ^ minn (‚àái) l =
\sum_(i &lt;- [fset x | x <span class="kr">in</span> e2 &amp; x \<span class="kr">in</span> e1])
   <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk22e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk22e"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \notin e2])
   <span class="mi">2</span> ^ minn (‚àái) l &lt;= \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk22f"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: eq_fbigl =&gt; i; <span class="nb">rewrite</span> !inE andbC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \notin e2])
   <span class="mi">2</span> ^ minn (‚àái) l &lt;= \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk230" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk230"><span class="highlight"><span class="nb">rewrite</span> leq_eqVlt; <span class="nb">apply</span>/orP; <span class="nb">left</span>; <span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s2</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e2) <span class="mi">2</span> ^ minn (‚àáH) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e1 `\` e2) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [fset x | x <span class="kr">in</span> e1 &amp; x \notin e2])
   <span class="mi">2</span> ^ minn (‚àái) l = \sum_(i &lt;- e1 `\` e2) f i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: eq_fbigl =&gt; i; <span class="nb">rewrite</span> !inE andbC.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.6 *)</span>

</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk231"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_delta</span> <span class="nv">e</span> <span class="nv">s</span> <span class="nv">a</span> : 
  #|` e `\` `[delta s]| &lt;= s -&gt; a \<span class="kr">in</span> e -&gt; psi e - psi (e `\  a) &lt;= <span class="mi">2</span> ^ s.-<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s -&gt;
a \<span class="kr">in</span> e -&gt; œà(e) - œà(e `\ a) &lt;= <span class="mi">2</span> ^ s.-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk232"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s -&gt;
a \<span class="kr">in</span> e -&gt; œà(e) - œà(e `\ a) &lt;= <span class="mi">2</span> ^ s.-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk233" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk233"><span class="highlight"><span class="nb">move</span>=&gt; CLs aIe.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e) - œà(e `\ a) &lt;= <span class="mi">2</span> ^ s.-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk234"><span class="highlight"><span class="nb">rewrite</span> leq_subLR -(ler_nat int_numDomainType) natrD addrC -ler_subl_addr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk235"><span class="highlight"><span class="nb">have</span> [l Hl] := psiE e.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk236"><span class="highlight"><span class="nb">have</span> F l1 : s &lt;= l1.+<span class="mi">1</span> -&gt; (psi_aux l1.+<span class="mi">1</span> e &lt;= psi_aux l1 e)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk237" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk237"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk238"><span class="highlight"><span class="nb">move</span>=&gt; sLl1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk239" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk239"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk23a"><span class="highlight"><span class="nb">rewrite</span> psi_auxE_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * #|` [fset i | i <span class="kr">in</span> e &amp; (l1 &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- e | (‚àái &lt; l1.+<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;= œà&#39;(l1) e)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk23b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk23b"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk23c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk23c"><span class="highlight"><span class="nb">rewrite</span> psi_auxE_lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * #|` [fset i | i <span class="kr">in</span> e &amp; (l1 &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- e | (‚àái &lt; l1.+<span class="mi">1</span>)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * #|` [fset i | i <span class="kr">in</span> e &amp; (l1 &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  \sum_(i &lt;- e | (‚àái &lt;= l1)%N) <span class="mi">2</span> ^ ‚àái)%:R -
 (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk23d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk23d"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk23e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk23e"><span class="highlight"><span class="nb">set</span> s1 := \sum_(_ &lt;- _ | _) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * #|` [fset i | i <span class="kr">in</span> e &amp; (l1 &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s1)%:R - (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * #|` [fset i | i <span class="kr">in</span> e &amp; (l1 &lt; ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk23f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk23f"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk240"><span class="highlight"><span class="nb">have</span> -&gt; : [fset i <span class="kr">in</span> e | l1 &lt; troot i] = [fset i <span class="kr">in</span> e | delta l1.+<span class="mi">1</span> &lt;= i].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[fset i | i <span class="kr">in</span> e &amp; l1 &lt; ‚àái] =
[fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk241" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk241"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> e &amp; (Œîl1.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s1)%:R - (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 *
   #|` [fset i | i <span class="kr">in</span> e &amp; (Œîl1.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk242" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk242"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk243"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/fsetP =&gt; i; <span class="nb">rewrite</span> !inE root_delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> *
   #|` [fset i | i <span class="kr">in</span> e &amp; (Œîl1.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s1)%:R - (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 *
   #|` [fset i | i <span class="kr">in</span> e &amp; (Œîl1.+<span class="mi">1</span> &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
  s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk244" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk244"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk245"><span class="highlight"><span class="nb">set</span> c := #|`_|.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk246" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk246"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk247"><span class="highlight"><span class="nb">have</span> Hc : c &lt;= s.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">c &lt;= s</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk248" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk248"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk249" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk249"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk24a"><span class="highlight"><span class="nb">apply</span>: leq_trans CLs.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">c &lt;= #|` e `\` `[Œîs]|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk24b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk24b"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk24c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk24c"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk24d"><span class="highlight"><span class="nb">apply</span>: fsubset_leq_card.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i] `&lt;=` e `\` `[Œîs]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk24e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk24e"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk24f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk24f"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk250"><span class="highlight"><span class="nb">apply</span>/fsubsetP=&gt; i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i] -&gt;
i \<span class="kr">in</span> e `\` `[Œîs]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk251" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk251"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk252" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk252"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk253"><span class="highlight"><span class="nb">rewrite</span> !inE =&gt; /andP[-&gt; H].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl1.+<span class="mi">1</span> &lt;= i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \notin `[Œîs]) &amp;&amp; true</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk254" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk254"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk255" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk255"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk256" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk256"><span class="highlight"><span class="nb">rewrite</span> andbT mem_sint -leqNgt (leq_trans _ H) //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">H</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl1.+<span class="mi">1</span> &lt;= i</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîs &lt;= Œîl1.+<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk257" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk257"><hr></label><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk258" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk258"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk259"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1.+<span class="mi">1</span> * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">1</span> * <span class="mi">2</span> ^ l1.+<span class="mi">1</span>)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk25a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk25a"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk25b"><span class="highlight"><span class="nb">rewrite</span> expnS mulnAC [<span class="mi">2</span> * _ * _]mulnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1 * (<span class="mi">2</span> * c.+<span class="mi">1</span>)).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">1</span> * (<span class="mi">2</span> * <span class="mi">2</span> ^ l1))%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk25c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk25c"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk25d"><span class="highlight"><span class="nb">rewrite</span> mul2n mulnA muln2 -!addnn -[(_ + l1.+<span class="mi">1</span>)%N]addSnnS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l1 * (c.+<span class="mi">1</span> + c.+<span class="mi">1</span>)).-<span class="mi">1</span> + s1)%:R -
 ((l1.+<span class="mi">2</span> + l1) * <span class="mi">2</span> ^ l1)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk25e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk25e"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk25f"><span class="highlight"><span class="nb">rewrite</span> mulnDl mulnDr prednDr ?(muln_gt0, expn_gt0) //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span> + (<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">2</span> * <span class="mi">2</span> ^ l1 + l1 * <span class="mi">2</span> ^ l1)%:R &lt;=
 ((<span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span>).-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk260" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk260"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk261" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk261"><span class="highlight"><span class="nb">set</span> x := <span class="mi">2</span> ^ _ * _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((x + x.-<span class="mi">1</span> + s1)%:R -
 (l1.+<span class="mi">2</span> * <span class="mi">2</span> ^ l1 + l1 * <span class="mi">2</span> ^ l1)%:R &lt;=
 (x.-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk262" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk262"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk263" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk263"><span class="highlight"><span class="nb">rewrite</span> -[(_ + s1)%N]addnA [(x + _)%N]addnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((x.-<span class="mi">1</span> + s1 + x)%:R -
 (l1.+<span class="mi">2</span> * <span class="mi">2</span> ^ l1 + l1 * <span class="mi">2</span> ^ l1)%:R &lt;=
 (x.-<span class="mi">1</span> + s1)%:R - (l1 * <span class="mi">2</span> ^ l1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk264" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk264"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk265"><span class="highlight"><span class="nb">rewrite</span> [X <span class="kr">in</span> (_ - X &lt;= _)%R]natrD opprD addrA ler_add //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((x.-<span class="mi">1</span> + s1 + x)%:R - (l1.+<span class="mi">2</span> * <span class="mi">2</span> ^ l1)%:R &lt;=
 (x.-<span class="mi">1</span> + s1)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk266" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk266"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk267" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk267"><span class="highlight"><span class="nb">rewrite</span> ler_sub_addr natrD ler_add // ler_nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">sLl1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s &lt;= l1.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">\sum_(H &lt;- e | ‚àáH &lt; l1.+<span class="mi">1</span>) <span class="mi">2</span> ^ ‚àáH</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">c</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` [fset i | i <span class="kr">in</span> e &amp; Œîl1.+<span class="mi">1</span> &lt;= i]|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hc</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">c &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="mi">2</span> ^ l1 * c.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x &lt;= l1.+<span class="mi">2</span> * <span class="mi">2</span> ^ l1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk268" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk268"><hr></label><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk269" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk269"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> mulnC leq_mul2l ltnS (leq_trans _ sLl1) <span class="nl">?orbT</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk26a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk26a"><span class="highlight"><span class="nb">pose</span> l1 := minn l s.-<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e)%:R - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk26b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk26b"><span class="highlight"><span class="nb">have</span> -&gt; : ((psi e)%:R = psi_aux l1 e)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l1) e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk26c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk26c"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk26d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk26d"><span class="highlight"><span class="nb">have</span> [/minn_idPl U|E] := leqP l s.-<span class="mi">1</span>; <span class="kp">first</span> <span class="bp">by</span> <span class="nb">rewrite</span> [l1]U.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l1) e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk26e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk26e"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk26f"><span class="highlight"><span class="nb">have</span> /ltnW/minn_idPr U := E.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">U</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">minn l s.-<span class="mi">1</span> = s.-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l1) e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk270" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk270"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk271" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk271"><span class="highlight"><span class="nb">rewrite</span> [l1]U.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">U</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">minn l s.-<span class="mi">1</span> = s.-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà(e)%:R)%R = œà&#39;(s.-<span class="mi">1</span>) e</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk272" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk272"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk273" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk273"><span class="highlight"><span class="nb">apply</span>/eqP; <span class="nb">rewrite</span> eq_le psi_max andbT Hl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">U</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">minn l s.-<span class="mi">1</span> = s.-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e &lt;= œà&#39;(s.-<span class="mi">1</span>) e)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk274" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk274"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk275" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk275"><span class="highlight"><span class="nb">rewrite</span> -(subnK (ltnW E)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">U</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">minn l s.-<span class="mi">1</span> = s.-<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l - s.-<span class="mi">1</span> + s.-<span class="mi">1</span>) e &lt;= œà&#39;(s.-<span class="mi">1</span>) e)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk276" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk276"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk277" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk277"><span class="highlight"><span class="nb">elim</span>: (_ - _) =&gt; [|k IH] //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">U</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">minn l s.-<span class="mi">1</span> = s.-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà&#39;(k + s.-<span class="mi">1</span>) e &lt;= œà&#39;(s.-<span class="mi">1</span>) e)%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(k.+<span class="mi">1</span> + s.-<span class="mi">1</span>) e &lt;= œà&#39;(s.-<span class="mi">1</span>) e)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk278" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk278"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk279" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk279"><span class="highlight"><span class="nb">apply</span>: le_trans IH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">U</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">minn l s.-<span class="mi">1</span> = s.-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(k.+<span class="mi">1</span> + s.-<span class="mi">1</span>) e &lt;= œà&#39;(k + s.-<span class="mi">1</span>) e)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk27a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk27a"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk27b"><span class="highlight"><span class="nb">rewrite</span> addSn.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">U</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">minn l s.-<span class="mi">1</span> = s.-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;((k + s.-<span class="mi">1</span>).+<span class="mi">1</span>) e &lt;= œà&#39;(k + s.-<span class="mi">1</span>) e)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk27c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk27c"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk27d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk27d"><span class="highlight"><span class="nb">apply</span>: F =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">U</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">minn l s.-<span class="mi">1</span> = s.-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s &lt;= (k + s.-<span class="mi">1</span>).+<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk27e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk27e"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk27f"><span class="highlight"><span class="nb">case</span>: (s) =&gt; // s1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">s.-<span class="mi">1</span> &lt; l</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">U</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">minn l s.-<span class="mi">1</span> = s.-<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">k, s1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">s1 &lt; (k + s1.+<span class="mi">1</span>.-<span class="mi">1</span>).+<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk280" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk280"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk281" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk281"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> ltnS /= leq_addl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà(e `\ a)%:R &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk282" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk282"><span class="highlight"><span class="nb">apply</span>: le_trans (ler_sub (lexx _) (psi_max _ l1)) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l1) e - œà&#39;(l1) (e `\ a) &lt;= (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk283"><span class="highlight"><span class="nb">rewrite</span> /psi_aux opprB addrA subrK addnC !natrD opprD addrA addrK.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l1)%:R -
 (\sum_(i &lt;- e `\ a) <span class="mi">2</span> ^ minn (‚àái) l1)%:R &lt;=
 (<span class="mi">2</span> ^ s.-<span class="mi">1</span>)%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk284" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk284"><span class="highlight"><span class="nb">rewrite</span> ler_subl_addr -natrD ler_nat addnC -leq_subLR.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e) <span class="mi">2</span> ^ minn (‚àái) l1 -
\sum_(i &lt;- e `\ a) <span class="mi">2</span> ^ minn (‚àái) l1 &lt;= <span class="mi">2</span> ^ s.-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk285"><span class="highlight"><span class="nb">rewrite</span> (big_fsetD1  a) //= addnK leq_exp2l //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">CLs</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e `\` `[Œîs]| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \<span class="kr">in</span> e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Hl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œà(e)%:R)%R = œà&#39;(l) e</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">F</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">l1</span> : nat,
s &lt;= l1.+<span class="mi">1</span> -&gt; (œà&#39;(l1.+<span class="mi">1</span>) e &lt;= œà&#39;(l1) e)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">minn l s.-<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">minn (‚àáa) l1 &lt;= s.-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: leq_trans (geq_minr _ _) (geq_minr _ _).</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.7 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk286" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk286"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_add</span> <span class="nv">n</span> <span class="nv">s</span> <span class="nv">e1</span> <span class="nv">e2</span> : 
  e1 `&lt;=` `[n] -&gt; n &gt;= delta (s.-<span class="mi">1</span>) -&gt;  #|`e2| &lt;= s -&gt;
  psi (e1 `|` e2) - psi (e1) &lt;= psi `[n + s] - psi `[n].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e1 `&lt;=` `[n] -&gt;
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk287" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk287"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e1 `&lt;=` `[n] -&gt;
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk288"><span class="highlight"><span class="nb">move</span>=&gt; e1Sn.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n, s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk289"><span class="highlight"><span class="nb">elim</span>: s e2 =&gt; [e2 _|s IH e2 dLn Ce2].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e2| &lt;= <span class="mi">0</span> -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + <span class="mi">0</span>]) - œà(`[n])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk28a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk28a"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk28b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk28b"><span class="highlight"><span class="nb">rewrite</span> leqn0 cardfs_eq0 =&gt; /eqP-&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` fset0) - œà(e1) &lt;= œà(`[n + <span class="mi">0</span>]) - œà(`[n])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk28c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk28c"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk28d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk28d"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> fsetU0 subnn.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk28e"><span class="highlight"><span class="nb">have</span> [-&gt;|[x xIe2]] := fset_0Vmem e2.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` fset0) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk28f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk28f"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk290" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk290"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> fsetU0 subnn.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk291" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk291"><span class="highlight"><span class="nb">have</span> dLn1 : delta (s.-<span class="mi">1</span>) &lt;= n.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk292" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk292"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk293" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk293"><span class="highlight"><span class="nb">apply</span>: leq_trans dLn.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= Œîs.+<span class="mi">1</span>.-<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk294" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk294"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk295" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk295"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: delta_le; <span class="nb">case</span>: (s) =&gt; // s1 /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk296" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk296"><span class="highlight"><span class="nb">pose</span> e3 := e2 `\ x.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk297" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk297"><span class="highlight"><span class="nb">have</span> Ce3 : #|` e3| &lt;= s.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e3| &lt;= s</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk298" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk298"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk299" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk299"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>: Ce2; <span class="nb">rewrite</span> (cardfsD1 x) xIe2 ltnS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk29a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk29a"><span class="highlight"><span class="nb">apply</span>: leq_trans (leq_sub_add (psi (e1 `|` e3)) _ _) _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) + (œà(e1 `|` e3) - œà(e1)) &lt;=
œà(`[n + s.+<span class="mi">1</span>]) - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk29b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk29b"><span class="highlight"><span class="nb">rewrite</span> addnS psi_sintS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) + (œà(e1 `|` e3) - œà(e1)) &lt;=
œà(`[n + s]) + <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span> - œà(`[n])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk29c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk29c"><span class="highlight"><span class="nb">rewrite</span> [X <span class="kr">in</span> _ &lt;= X - _]addnC -addnBA; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(`[n]) &lt;= œà(`[n + s])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk29d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk29d"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) + (œà(e1 `|` e3) - œà(e1)) &lt;=
<span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span> + (œà(`[n + s]) - œà(`[n]))</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk29e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk29e"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: psi_sint_leq; <span class="nb">rewrite</span> leq_addr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) + (œà(e1 `|` e3) - œà(e1)) &lt;=
<span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span> + (œà(`[n + s]) - œà(`[n]))</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk29f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk29f"><span class="highlight"><span class="nb">apply</span>: leq_add; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">apply</span>: IH.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2a0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2a0"><span class="highlight"><span class="nb">have</span> [xIe1|xNIe1] := boolP (x \<span class="kr">in</span> e1).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2a1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2a1"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2a2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2a2"><span class="highlight"><span class="nb">have</span> -&gt; : e1 `|` e2 = e1 `|` e3.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e1 `|` e2 = e1 `|` e3</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2a3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2a3"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e3) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk2a4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2a4"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2a5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2a5"><span class="highlight"><span class="nb">apply</span>/fsetP=&gt; i; <span class="nb">rewrite</span> !inE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \<span class="kr">in</span> e1) || (i \<span class="kr">in</span> e2) =
(i \<span class="kr">in</span> e1) || (i != x) &amp;&amp; (i \<span class="kr">in</span> e2)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2a6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2a6"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e3) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk2a7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2a7"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2a8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2a8"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: eqP =&gt; // -&gt;; <span class="nb">rewrite</span> xIe1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e3) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2a9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2a9"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2aa" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2aa"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> subnn.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà(e1 `|` e3) &lt;= <span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2ab" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2ab"><span class="highlight"><span class="nb">have</span> -&gt; : e1 `|` e3 = (e1 `|` e2) `\ x.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e1 `|` e3 = (e1 `|` e2) `\ x</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2ac" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2ac"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà((e1 `|` e2) `\ x) &lt;=
<span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2ad" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2ad"><span class="highlight"><span class="nb">apply</span>/fsetP=&gt; i; <span class="nb">rewrite</span> !inE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \<span class="kr">in</span> e1) || (i != x) &amp;&amp; (i \<span class="kr">in</span> e2) =
(i != x) &amp;&amp; ((i \<span class="kr">in</span> e1) || (i \<span class="kr">in</span> e2))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2ae" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2ae"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà((e1 `|` e2) `\ x) &lt;=
<span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2af" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2af"><span class="highlight"><span class="nb">case</span>: eqP =&gt; // -&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(x \<span class="kr">in</span> e1) || ~~ true &amp;&amp; (x \<span class="kr">in</span> e2) =
~~ true &amp;&amp; ((x \<span class="kr">in</span> e1) || (x \<span class="kr">in</span> e2))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2b0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2b0"><hr></label><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà((e1 `|` e2) `\ x) &lt;=
<span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2b1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2b1"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> (negPf xNIe1).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œà(e1 `|` e2) - œà((e1 `|` e2) `\ x) &lt;=
<span class="mi">2</span> ^ (‚àá(n + s).+<span class="mi">1</span>).-<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2b2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2b2"><span class="highlight"><span class="nb">apply</span>: psi_delta; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">x \<span class="kr">in</span> e1 `|` e2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2b3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2b3"><hr></label><div class="goal-conclusion"><span class="highlight">#|` (e1 `|` e2) `\` `[Œî(‚àá(n + s).+<span class="mi">1</span>)]| &lt;= ‚àá(n + s).+<span class="mi">1</span></span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2b4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2b4"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> !inE xIe2 orbT.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` (e1 `|` e2) `\` `[Œî(‚àá(n + s).+<span class="mi">1</span>)]| &lt;= ‚àá(n + s).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2b5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2b5"><span class="highlight"><span class="nb">rewrite</span> -addnS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` (e1 `|` e2) `\` `[Œî(‚àá(n + s.+<span class="mi">1</span>))]| &lt;= ‚àá(n + s.+<span class="mi">1</span>)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2b6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2b6"><span class="highlight"><span class="nb">set</span> t := s.+<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` (e1 `|` e2) `\` `[Œî(‚àá(n + t))]| &lt;= ‚àá(n + t)</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2b7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2b7"><span class="highlight"><span class="nb">set</span> g := troot (n + t).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` (e1 `|` e2) `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2b8" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2b8"><span class="highlight"><span class="nb">apply</span>: leq_trans (_ : #|` e2 `|` (e1 `\` `[delta g])| &lt;= _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` (e1 `|` e2) `\` `[Œîg]| &lt;= #|` e2 `|` e1 `\` `[Œîg]|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2b9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2b9"><hr></label><div class="goal-conclusion"><span class="highlight">#|` e2 `|` e1 `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2ba" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2ba"><span class="highlight"><span class="nb">apply</span>: fsubset_leq_card.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(e1 `|` e2) `\` `[Œîg] `&lt;=` e2 `|` e1 `\` `[Œîg]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2bb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2bb"><hr></label><div class="goal-conclusion"><span class="highlight">#|` e2 `|` e1 `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2bc" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2bc"><span class="highlight"><span class="nb">apply</span>/fsubsetP=&gt; i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> (e1 `|` e2) `\` `[Œîg] -&gt;
i \<span class="kr">in</span> e2 `|` e1 `\` `[Œîg]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2bd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2bd"><hr></label><div class="goal-conclusion"><span class="highlight">#|` e2 `|` e1 `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2be" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2be"><span class="highlight"><span class="nb">rewrite</span> !inE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \notin `[Œîg]) &amp;&amp; ((i \<span class="kr">in</span> e1) || (i \<span class="kr">in</span> e2)) -&gt;
(i \<span class="kr">in</span> e2) || (i \notin `[Œîg]) &amp;&amp; (i \<span class="kr">in</span> e1)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2bf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2bf"><hr></label><div class="goal-conclusion"><span class="highlight">#|` e2 `|` e1 `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2c0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2c0"><span class="highlight"><span class="bp">by</span> <span class="kp">do</span> <span class="mi">2</span> <span class="nb">case</span>: (_ \<span class="kr">in</span> _); <span class="nb">rewrite</span> ?(orbT, orbF).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e2 `|` e1 `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2c1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2c1"><span class="highlight"><span class="nb">apply</span>: leq_trans (_ : #|` e2| + #|` e1 `\` `[delta g]| &lt;= _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e2 `|` e1 `\` `[Œîg]| &lt;=
#|` e2| + #|` e1 `\` `[Œîg]|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2c2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2c2"><hr></label><div class="goal-conclusion"><span class="highlight">#|` e2| + #|` e1 `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2c3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2c3"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -cardfsUI leq_addr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e2| + #|` e1 `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2c4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2c4"><span class="highlight"><span class="nb">apply</span>: leq_trans (_ : t + #|` e1 `\` `[delta g]| &lt;= _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e2| + #|` e1 `\` `[Œîg]| &lt;= t + #|` e1 `\` `[Œîg]|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2c5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2c5"><hr></label><div class="goal-conclusion"><span class="highlight">t + #|` e1 `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2c6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2c6"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> leq_add2r.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t + #|` e1 `\` `[Œîg]| &lt;= g</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2c7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2c7"><span class="highlight"><span class="nb">apply</span>: leq_trans (_ : t + #|` sint (delta g) n| &lt;= _).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t + #|` e1 `\` `[Œîg]| &lt;= t + #|` sint (Œîg) n|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2c8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2c8"><hr></label><div class="goal-conclusion"><span class="highlight">t + #|` sint (Œîg) n| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2c9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2c9"><span class="highlight"><span class="nb">rewrite</span> leq_add2l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">#|` e1 `\` `[Œîg]| &lt;= #|` sint (Œîg) n|</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2ca" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2ca"><hr></label><div class="goal-conclusion"><span class="highlight">t + #|` sint (Œîg) n| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2cb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2cb"><span class="highlight"><span class="nb">apply</span>: fsubset_leq_card.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e1 `\` `[Œîg] `&lt;=` sint (Œîg) n</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2cc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2cc"><hr></label><div class="goal-conclusion"><span class="highlight">t + #|` sint (Œîg) n| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2cd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2cd"><span class="highlight"><span class="nb">apply</span>/fsubsetP=&gt; i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> e1 `\` `[Œîg] -&gt; i \<span class="kr">in</span> sint (Œîg) n</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2ce" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2ce"><hr></label><div class="goal-conclusion"><span class="highlight">t + #|` sint (Œîg) n| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2cf" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2cf"><span class="highlight"><span class="nb">rewrite</span> !(inE, mem_sint) /= -leqNgt =&gt; /andP[-&gt; /(fsubsetP e1Sn)].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i \<span class="kr">in</span> `[n] -&gt; true &amp;&amp; (i &lt; n)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2d0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2d0"><hr></label><div class="goal-conclusion"><span class="highlight">t + #|` sint (Œîg) n| &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2d1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2d1"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> mem_sint.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t + #|` sint (Œîg) n| &lt;= g</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2d2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2d2"><span class="highlight"><span class="nb">rewrite</span> card_sint.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t + (n - Œîg) &lt;= g</span></div></blockquote></div></div></small><span class="alectryon-wsp"> 
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2d3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2d3"><span class="highlight"><span class="nb">have</span> [|E] := leqP n (delta g); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîg &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t + (n - Œîg) &lt;= g</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2d4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2d4"><hr></label><div class="goal-conclusion"><span class="highlight">n &lt;= Œîg -&gt; t + (n - Œîg) &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2d5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2d5"><span class="highlight"><span class="nb">rewrite</span> addnBA; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">apply</span>: ltnW.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîg &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t + n - Œîg &lt;= g</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2d6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2d6"><hr></label><div class="goal-conclusion"><span class="highlight">n &lt;= Œîg -&gt; t + (n - Œîg) &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2d7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2d7"><span class="highlight"><span class="nb">rewrite</span> leq_subLR addnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">E</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîg &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n + t &lt;= Œîg + g</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2d8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2d8"><hr></label><div class="goal-conclusion"><span class="highlight">n &lt;= Œîg -&gt; t + (n - Œîg) &lt;= g</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2d9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2d9"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -ltnS -!addnS -deltaS addnS -root_delta_lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">n &lt;= Œîg -&gt; t + (n - Œîg) &lt;= g</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2da" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2da"><span class="highlight"><span class="nb">move</span>/eqP-&gt;; <span class="nb">rewrite</span> addn0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e1Sn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">e1 `&lt;=` `[n]</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">s</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="kr">forall</span> <span class="nv">e2</span>,
Œîs.-<span class="mi">1</span> &lt;= n -&gt;
#|` e2| &lt;= s -&gt;
œà(e1 `|` e2) - œà(e1) &lt;= œà(`[n + s]) - œà(`[n])</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.+<span class="mi">1</span>.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e2| &lt;= s.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">x</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xIe2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \<span class="kr">in</span> e2</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">dLn1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîs.-<span class="mi">1</span> &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e3</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">e2 `\ x</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat_choiceType}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">Ce3</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">#|` e3| &lt;= s</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">xNIe1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">x \notin e1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">t</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">s.+<span class="mi">1</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">g</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àá(n + t)</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">t &lt;= g</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> root_delta_le deltaS leq_add2r.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
<span class="c">(* This is 2.8 *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2db" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2db"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">psi_cap_ge</span> <span class="nv">e1</span> <span class="nv">e2</span> : phi (#|` e1 `|` e2|.+<span class="mi">3</span>) &lt;= (psi e1 + psi e2).*<span class="mi">2</span>.*<span class="mi">2</span> + <span class="mi">5</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(#|` e1 `|` e2|.+<span class="mi">3</span>) &lt;= ((œà(e1) + œà(e2)).*<span class="mi">2</span>).*<span class="mi">2</span> + <span class="mi">5</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2dc" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2dc"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(#|` e1 `|` e2|.+<span class="mi">3</span>) &lt;= ((œà(e1) + œà(e2)).*<span class="mi">2</span>).*<span class="mi">2</span> + <span class="mi">5</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2dd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2dd"><span class="highlight"><span class="nb">rewrite</span> -(ler_nat int_numDomainType) natrD.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(#|` e1 `|` e2|.+<span class="mi">3</span>)%:R &lt;=
 ((œà(e1) + œà(e2)).*<span class="mi">2</span>).*<span class="mi">2</span>%:R + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2de" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2de"><span class="highlight"><span class="nb">rewrite</span> -!muln2 !natrM !mulr_natr -mulrnA natrD.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(#|` e1 `|` e2|.+<span class="mi">3</span>)%:R &lt;=
 (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2df" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2df"><span class="highlight"><span class="nb">set</span> n := #|`_|.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2e0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2e0"><span class="highlight"><span class="nb">pose</span> m := troot (n.+<span class="mi">3</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2e1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2e1"><span class="highlight"><span class="nb">pose</span> p := tmod (n.+<span class="mi">3</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2e2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2e2"><span class="highlight"><span class="nb">pose</span> l := m.-<span class="mi">2</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2e3" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2e3"><span class="highlight"><span class="nb">have</span> mG2 : m &gt;= <span class="mi">2</span> <span class="bp">by</span> <span class="nb">rewrite</span> root_delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2e4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2e4"><span class="highlight"><span class="nb">have</span> pLm : p &lt;= m.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">p &lt;= m</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2e5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2e5"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2e6" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2e6"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> leq_subLR -ltnS -[X <span class="kr">in</span> _ &lt; X]addnS -deltaS -root_delta_lt ltnS.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2e7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2e7"><span class="highlight"><span class="nb">have</span> nG : n &gt;= delta l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîl &lt;= n</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2e8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2e8"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2e9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2e9"><span class="highlight"><span class="nb">rewrite</span> -[n]/(n.+<span class="mi">3</span>.-<span class="mi">2</span>.-<span class="mi">1</span>) [n.+<span class="mi">3</span>]tmodE /l -/m.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîm.-<span class="mi">2</span> &lt;= (Œîm + tmod n.+<span class="mi">3</span>).-<span class="mi">1</span>.-<span class="mi">2</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2ea" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2ea"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2eb" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2eb"><span class="highlight"><span class="nb">case</span>: (m) mG2 =&gt; // [] [|] // m1 _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">Œîm1.+<span class="mi">2</span>.-<span class="mi">2</span> &lt;= (Œîm1.+<span class="mi">2</span> + tmod n.+<span class="mi">3</span>).-<span class="mi">1</span>.-<span class="mi">2</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2ec" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2ec"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2ed" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2ed"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> deltaS deltaS /= !(addSn, addnS, subSS, subn0) -!addnA leq_addr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2ee" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2ee"><span class="highlight"><span class="nb">apply</span>: le_trans (_ : ((psi_aux l `[<span class="mi">0</span>] + psi_aux l `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R &lt;= _))%R; 
     <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R &lt;=
 (œà(e1)%:R + œà(e2)%:R) *+ (<span class="mi">2</span> * <span class="mi">2</span>) + <span class="mi">5</span>%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2ef" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2ef"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2f0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2f0"><span class="highlight"><span class="nb">rewrite</span> ler_add2r ler_muln2r orFb.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n] &lt;= œà(e1)%:R + œà(e2)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2f1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2f1"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2f2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2f2"><span class="highlight"><span class="nb">apply</span>: le_trans (_ : psi_aux l e1 + psi_aux l e2 &lt;= _)%R; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) e1 + œà&#39;(l) e2 &lt;= œà(e1)%:R + œà(e2)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2f3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2f3"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n] &lt;= œà&#39;(l) e1 + œà&#39;(l) e2)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk2f4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2f4"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2f5" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2f5"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: ler_add; <span class="nb">apply</span>: psi_max.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n] &lt;= œà&#39;(l) e1 + œà&#39;(l) e2)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2f6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2f6"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2f7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2f7"><span class="highlight"><span class="nb">apply</span>: le_trans (_ : psi_aux l (e1 `&amp;` e2) + psi_aux l (e1 `|` e2) &lt;= _)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n] &lt;=
 œà&#39;(l) (e1 `&amp;` e2) + œà&#39;(l) (e1 `|` e2))%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2f8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2f8"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) (e1 `&amp;` e2) + œà&#39;(l) (e1 `|` e2) &lt;=
 œà&#39;(l) e1 + œà&#39;(l) e2)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk2f9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2f9"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2fa" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2fa"><span class="highlight"><span class="nb">apply</span>: ler_add; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">apply</span>: psi_aux_card_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) `[<span class="mi">0</span>] &lt;= œà&#39;(l) (e1 `&amp;` e2))%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2fb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2fb"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) (e1 `&amp;` e2) + œà&#39;(l) (e1 `|` e2) &lt;=
 œà&#39;(l) e1 + œà&#39;(l) e2)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk2fc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2fc"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk2fd" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk2fd"><span class="highlight"><span class="nb">apply</span>: psi_aux_sub; <span class="nb">rewrite</span> sint0_set0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">fset0 `&lt;=` e1 `&amp;` e2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk2fe" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2fe"><hr></label><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) (e1 `&amp;` e2) + œà&#39;(l) (e1 `|` e2) &lt;=
 œà&#39;(l) e1 + œà&#39;(l) e2)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk2ff" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk2ff"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk300" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk300"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/fsubsetP=&gt; i; <span class="nb">rewrite</span> inE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œà&#39;(l) (e1 `&amp;` e2) + œà&#39;(l) (e1 `|` e2) &lt;=
 œà&#39;(l) e1 + œà&#39;(l) e2)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk301" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk301"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk302" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk302"><span class="highlight"><span class="nb">rewrite</span> /psi_aux.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e1 `&amp;` e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R +
 (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> +
   \sum_(i &lt;- (e1 `|` e2)) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
  (l * <span class="mi">2</span> ^ l)%:R) &lt;=
 ((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
 (l * <span class="mi">2</span> ^ l)%:R +
 (((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
  (l * <span class="mi">2</span> ^ l)%:R))%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk303" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk303"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk304" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk304"><span class="highlight"><span class="nb">rewrite</span> !natrD !addrA ler_add // -!addrA ler_add //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((\sum_(i &lt;- e1 `&amp;` e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R +
 (<span class="mi">1</span> *- (l * <span class="mi">2</span> ^ l) +
  ((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R +
   (\sum_(i &lt;- (e1 `|` e2)) <span class="mi">2</span> ^ minn (‚àái) l)%:R)) &lt;=
 (\sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l)%:R +
 (<span class="mi">1</span> *- (l * <span class="mi">2</span> ^ l) +
  ((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R + (\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R)))%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk305" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk305"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk306" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk306"><span class="highlight"><span class="nb">rewrite</span> addrCA [X <span class="kr">in</span> (_ &lt;= X)%R]addrCA ler_add //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((\sum_(i &lt;- e1 `&amp;` e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R +
 ((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R +
  (\sum_(i &lt;- (e1 `|` e2)) <span class="mi">2</span> ^ minn (‚àái) l)%:R) &lt;=
 (\sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l)%:R +
 ((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R + (\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R))%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk307" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk307"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk308" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk308"><span class="highlight"><span class="nb">rewrite</span> addrCA [X <span class="kr">in</span> (_ &lt;= X)%R]addrCA ler_add //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((\sum_(i &lt;- e1 `&amp;` e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R +
 (\sum_(i &lt;- (e1 `|` e2)) <span class="mi">2</span> ^ minn (‚àái) l)%:R &lt;=
 (\sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l)%:R +
 (\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk309" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk309"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk30a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk30a"><span class="highlight"><span class="nb">rewrite</span> -!natrD ler_nat.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e1 `&amp;` e2) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- (e1 `|` e2)) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e1) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk30b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk30b"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk30c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk30c"><span class="highlight"><span class="nb">rewrite</span> [X <span class="kr">in</span> _ &lt;= X + _](bigID (<span class="kr">fun</span> <span class="nv">i</span> =&gt; i \<span class="kr">in</span> e2)) /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e1 `&amp;` e2) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- (e1 `|` e2)) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e1 | i \<span class="kr">in</span> e2) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- e1 | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk30d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk30d"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk30e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk30e"><span class="highlight"><span class="nb">rewrite</span> -!addnA leq_add //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e1 `&amp;` e2) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e1 | i \<span class="kr">in</span> e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk30f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk30f"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2)) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e1 | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk310" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk310"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk311" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk311"><span class="highlight"><span class="nb">rewrite</span> leq_eqVlt; <span class="nb">apply</span>/orP; <span class="nb">left</span>; <span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- e1 `&amp;` e2) <span class="mi">2</span> ^ minn (‚àái) l =
\sum_(i &lt;- e1 | i \<span class="kr">in</span> e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk312" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk312"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2)) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e1 | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk313" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk313"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk314" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk314"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: eq_fbigl_cond =&gt; i; <span class="nb">rewrite</span> !inE /= andbT.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2)) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e1 | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk315" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk315"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk316" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk316"><span class="highlight"><span class="nb">rewrite</span> [X <span class="kr">in</span> X &lt;= _](bigID (<span class="kr">fun</span> <span class="nv">i</span> =&gt; i \<span class="kr">in</span> e2)) /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2) | i \<span class="kr">in</span> e2) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- (e1 `|` e2) | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e1 | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l +
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk317" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk317"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk318" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk318"><span class="highlight"><span class="nb">rewrite</span> addnC leq_add //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2) | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e1 | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk319" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk319"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2) | i \<span class="kr">in</span> e2) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk31a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk31a"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk31b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk31b"><span class="highlight"><span class="nb">rewrite</span> leq_eqVlt; <span class="nb">apply</span>/orP; <span class="nb">left</span>; <span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2) | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l =
\sum_(i &lt;- e1 | i \notin e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk31c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk31c"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2) | i \<span class="kr">in</span> e2) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk31d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk31d"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk31e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk31e"><span class="highlight"><span class="nb">apply</span>: eq_fbigl_cond =&gt; i; <span class="nb">rewrite</span> !inE /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((i \<span class="kr">in</span> e1) || (i \<span class="kr">in</span> e2)) &amp;&amp; (i \notin e2) =
(i \<span class="kr">in</span> [eta mem_seq e1]) &amp;&amp; (i \notin e2)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk31f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk31f"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2) | i \<span class="kr">in</span> e2) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk320" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk320"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk321" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk321"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: (_ \<span class="kr">in</span> e2); <span class="nb">rewrite</span> ?(andbT, orbT, andbF, orbF).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2) | i \<span class="kr">in</span> e2) <span class="mi">2</span> ^ minn (‚àái) l &lt;=
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk322" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk322"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk323" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk323"><span class="highlight"><span class="nb">rewrite</span> leq_eqVlt; <span class="nb">apply</span>/orP; <span class="nb">left</span>; <span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (e1 `|` e2) | i \<span class="kr">in</span> e2) <span class="mi">2</span> ^ minn (‚àái) l =
\sum_(i &lt;- e2) <span class="mi">2</span> ^ minn (‚àái) l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk324" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk324"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk325" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk325"><span class="highlight"><span class="nb">apply</span>: eq_fbigl_cond =&gt; i; <span class="nb">rewrite</span> !inE /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat_choiceType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((i \<span class="kr">in</span> e1) || (i \<span class="kr">in</span> e2)) &amp;&amp; (i \<span class="kr">in</span> e2) =
(i \<span class="kr">in</span> [eta mem_seq e2]) &amp;&amp; true</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk326" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk326"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk327" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk327"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: (_ \<span class="kr">in</span> e2); <span class="nb">rewrite</span> /= ?(andbT, orbT, andbF, orbF).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk328" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk328"><span class="highlight"><span class="nb">have</span> pE : phi (n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk329" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk329"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk32a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk32a"><span class="highlight"><span class="nb">rewrite</span> phi_modE -/m -/p -{<span class="mi">1</span> <span class="mi">4</span>}[m]prednK <span class="mi">1</span><span class="nl">?ltnW</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">1</span> + (m.-<span class="mi">1</span>.+<span class="mi">1</span> + p) * <span class="mi">2</span> ^ m - <span class="mi">2</span> ^ m =
((m.-<span class="mi">1</span>.+<span class="mi">1</span> + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk32b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk32b"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk32c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk32c"><span class="highlight"><span class="nb">rewrite</span> [(_ + p)%N]addSn mulSn [(<span class="mi">2</span> ^ _ + _)%nat]addnC addnA addnK.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">1</span> + (m.-<span class="mi">1</span> + p) * <span class="mi">2</span> ^ m)%N =
(((m.-<span class="mi">1</span> + p).+<span class="mi">1</span> - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk32d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk32d"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk32e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk32e"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -subn1 -[(_ + _).+<span class="mi">1</span>]addn1 addnK.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk32f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk32f"><span class="highlight"><span class="nb">have</span> pdE : ((phi (delta l))%:R = <span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R :&gt; int)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk330" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk330"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk331" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk331"><span class="highlight"><span class="nb">rewrite</span> phi_deltaE natrB; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ l &lt;= <span class="mi">1</span> + l * <span class="mi">2</span> ^ l</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk332" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk332"><hr></label><div class="goal-conclusion"><span class="highlight">((<span class="mi">1</span> + l * <span class="mi">2</span> ^ l)%:R - (<span class="mi">2</span> ^ l)%:R)%R =
(<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk333" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk333"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk334" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk334"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: (l) =&gt; // l1; <span class="nb">rewrite</span> mulSn addnCA leq_addr.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">1</span> + l * <span class="mi">2</span> ^ l)%:R - (<span class="mi">2</span> ^ l)%:R)%R =
(<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk335" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk335"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk336" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk336"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> natrD /= mulrBl mul1r addrA -natrM.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R &lt;= (œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk337" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk337"><span class="highlight"><span class="nb">rewrite</span> le_eqVlt; <span class="nb">apply</span>/orP; <span class="nb">left</span>; <span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
((œà&#39;(l) `[<span class="mi">0</span>] + œà&#39;(l) `[n]) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight"><span class="c">(* right part *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk338" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk338"><span class="highlight"><span class="nb">rewrite</span> psi_aux_sintE // psi_auxE_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
((((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">0</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
  (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l *
     #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt;= ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
    \sum_(i &lt;- `[n] | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk339" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk339"><span class="highlight"><span class="nb">pose</span> f i := <span class="mi">2</span> ^ minn (‚àái) l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
((((<span class="mi">2</span> ^ l).-<span class="mi">1</span> + \sum_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">0</span>) <span class="mi">2</span> ^ minn (‚àái) l)%:R -
  (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l *
     #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt;= ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
    \sum_(i &lt;- `[n] | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk33a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk33a"><span class="highlight"><span class="nb">rewrite</span> !(big_mkord _ f) big_ord0 addn0.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l *
     #|` [fset i | i <span class="kr">in</span> `[n] &amp; (l &lt;= ‚àái)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
    \sum_(i &lt;- `[n] | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk33b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk33b"><span class="highlight"><span class="nb">have</span> -&gt; : [fset i <span class="kr">in</span> `[n] | l &lt;= troot i] = [fset i <span class="kr">in</span> `[n] | delta l &lt;= i].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">[fset i | i <span class="kr">in</span> `[n] &amp; l &lt;= ‚àái] =
[fset i | i <span class="kr">in</span> `[n] &amp; Œîl &lt;= i]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk33c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk33c"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l *
     #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
    \sum_(i &lt;- `[n] | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk33d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk33d"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>/fsetP=&gt; i; <span class="nb">rewrite</span> !inE root_delta_le.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l *
     #|` [fset i | i <span class="kr">in</span> `[n] &amp; (Œîl &lt;= i)%N]|.+<span class="mi">1</span>).-<span class="mi">1</span> +
    \sum_(i &lt;- `[n] | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk33e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk33e"><span class="highlight"><span class="nb">have</span> /(sint_sub n)-&gt; : <span class="mi">0</span> &lt;= delta l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">0</span> &lt;= Œîl</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk33f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk33f"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * #|` sint (Œîl) n|.+<span class="mi">1</span>).-<span class="mi">1</span> +
    \sum_(i &lt;- `[n] | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk340" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk340"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: (@delta_le <span class="mi">0</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * #|` sint (Œîl) n|.+<span class="mi">1</span>).-<span class="mi">1</span> +
    \sum_(i &lt;- `[n] | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk341" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk341"><span class="highlight"><span class="nb">rewrite</span> card_sint //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> +
    \sum_(i &lt;- `[n] | (‚àái &lt; l)%N) <span class="mi">2</span> ^ ‚àái)%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk342" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk342"><span class="highlight"><span class="nb">rewrite</span> (_ : \sum_(_ &lt;- _ | _) _  = phi (delta l)); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l) <span class="mi">2</span> ^ ‚àáH = œï(Œîl)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk343" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk343"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk344" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk344"><span class="highlight"><span class="nb">rewrite</span> phiE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(H &lt;- `[n] | ‚àáH &lt; l) <span class="mi">2</span> ^ ‚àáH =
\sum_(i &lt; Œîl) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk345" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk345"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk346" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk346"><span class="highlight"><span class="nb">rewrite</span> [LHS](eq_bigl (<span class="kr">fun</span> <span class="nv">i</span> =&gt; (i &lt; n) &amp;&amp; (‚àái &lt; l))); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; ‚àái &lt; l) =<span class="mi">1</span>
(<span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; (i &lt; n) &amp;&amp; (‚àái &lt; l))</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk347" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk347"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk348" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk348"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk349" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk349"><span class="highlight"><span class="nb">move</span>=&gt; i; <span class="nb">case</span>: leqP; <span class="nb">rewrite</span> ?(andbT, andbF) // root_delta_lt.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i &lt; Œîl -&gt; true = (i &lt; n)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk34a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk34a"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk34b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk34b"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk34c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk34c"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>/(leq_trans)-&gt;.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk34d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk34d"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk34e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk34e"><span class="highlight"><span class="nb">rewrite</span> [RHS](eq_bigl 
        (<span class="kr">fun</span> <span class="nv">i</span> : &#39;I_ _ =&gt; ((i : nat) \<span class="kr">in</span> (enum_fset `[n])))); <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">xpredT =<span class="mi">1</span> (<span class="kr">fun</span> <span class="nv">i</span> : &#39;I_(Œîl) =&gt; i \<span class="kr">in</span> `[n])</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk34f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk34f"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> `[n]) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk350" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk350"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk351" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk351"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>=&gt; i; <span class="nb">rewrite</span> mem_sint (leq_trans (ltn_ord _)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- `[n] | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> `[n]) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk352" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk352"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk353" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk353"><span class="highlight"><span class="nb">elim</span>: enum_fset (fset_uniq `[n]) =&gt; /= [_|a l1 IH /andP[aNIl lU]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- [::] | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> [::]) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk354" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk354"><hr></label><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (a :: l1) | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk355" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk355"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk356" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk356"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> big_nil big1.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt;- (a :: l1) | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk357" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk357"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk358" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk358"><span class="highlight"><span class="nb">rewrite</span> big_cons /= IH //; <span class="nb">case</span>: (boolP (a &lt; n)) =&gt; aLn /=; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~~ (a &lt; n)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk359" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk359"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> ‚àáa &lt; l
 <span class="kr">then</span> (<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái)%N
 <span class="kr">else</span> \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái) =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk35a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk35a"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk35b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk35b"><span class="highlight"><span class="nb">apply</span>: eq_bigl =&gt; i; <span class="nb">move</span>: (ltn_ord i); <span class="nb">rewrite</span> inE; <span class="nb">case</span>: eqP =&gt; [-&gt;| //].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">~~ (a &lt; n)</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_(Œîl)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; Œîl -&gt; (a \<span class="kr">in</span> l1) = true || (a \<span class="kr">in</span> l1)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk35c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk35c"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> ‚àáa &lt; l
 <span class="kr">then</span> (<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái)%N
 <span class="kr">else</span> \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái) =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk35d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk35d"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk35e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk35e"><span class="highlight"><span class="bp">by</span> <span class="nb">move</span>=&gt; /leq_trans/(_ nG); <span class="nb">rewrite</span> (negPf aLn).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="kr">if</span> ‚àáa &lt; l
 <span class="kr">then</span> (<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái)%N
 <span class="kr">else</span> \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái) =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk35f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk35f"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk360" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk360"><span class="highlight"><span class="nb">case</span>: leqP =&gt; aLl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt;= ‚àáa</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk361" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt; l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk361"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk362" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk362"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk363" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk363"><span class="highlight"><span class="nb">apply</span>: eq_bigl =&gt; i; <span class="nb">move</span>: (ltn_ord i); <span class="nb">rewrite</span> inE; <span class="nb">case</span>: eqP =&gt; [-&gt;| //].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">l &lt;= ‚àáa</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_(Œîl)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">a &lt; Œîl -&gt; (a \<span class="kr">in</span> l1) = true || (a \<span class="kr">in</span> l1)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk364" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt; l</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk364"><hr></label><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk365" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk365"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk366" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk366"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> -root_delta_lt ltnNge aLl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">‚àáa &lt; l</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk367" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk367"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk368" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk368"><span class="highlight"><span class="nb">rewrite</span> root_delta_lt <span class="kr">in</span> aLl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; Œîl</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái)%N =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> a :: l1) <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk369" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk369"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk36a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk36a"><span class="highlight"><span class="nb">rewrite</span> [RHS](bigD1 (Ordinal aLl)); <span class="nb">apply</span>/eqP; <span class="nb">last</span> <span class="bp">by</span> <span class="nb">rewrite</span> inE eqxx.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; Œîl</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(<span class="mi">2</span> ^ ‚àáa + \sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái)%N ==
addn_comoid (<span class="mi">2</span> ^ ‚àá(Ordinal aLl))
  (\big[addn_comoid/<span class="mi">0</span>]_(i | (i \<span class="kr">in</span> a :: l1) &amp;&amp;
                            (i != Ordinal aLl)) <span class="mi">2</span> ^ ‚àái)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk36b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk36b"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk36c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk36c"><span class="highlight"><span class="nb">rewrite</span> /= eqn_add2l; <span class="nb">apply</span>/eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; Œîl</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | (i \<span class="kr">in</span> a :: l1) &amp;&amp; (i != Ordinal aLl))
   <span class="mi">2</span> ^ ‚àái</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk36d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk36d"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk36e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk36e"><span class="highlight"><span class="nb">apply</span>: eq_bigl =&gt; i; <span class="nb">rewrite</span> !inE /= -val_eqE /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">a</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">seq nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">IH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1 -&gt;
\sum_(i &lt;- l1 | (i &lt; n) &amp;&amp; (‚àái &lt; l)) <span class="mi">2</span> ^ ‚àái =
\sum_(i &lt; Œîl | i \<span class="kr">in</span> l1) <span class="mi">2</span> ^ ‚àái</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aNIl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a \notin l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">lU</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">uniq l1</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLn</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">aLl</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">a &lt; Œîl</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_(Œîl)</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i \<span class="kr">in</span> l1) = ((i == a) || (i \<span class="kr">in</span> l1)) &amp;&amp; (i != a)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk36f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk36f"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk370" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk370"><span class="highlight"><span class="bp">by</span> <span class="nb">case</span>: eqP (ltn_ord i) =&gt; [-&gt;|]; <span class="nb">rewrite</span>?(andbT, negPf aNIl).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight"><span class="c">(* right part *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk371" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk371"><span class="highlight"><span class="nb">apply</span>: etrans
 (_ : ((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+<span class="mi">4</span> + <span class="mi">5</span>%:R = _)%R; <span class="nb">last first</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R =
(((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
  (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
   (l * <span class="mi">2</span> ^ l)%:R)) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk372" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk372"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"> </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk373" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk373"><span class="highlight"><span class="nb">congr</span> (_ *+ _ + _)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R)%R =
((<span class="mi">2</span> ^ l).-<span class="mi">1</span>%:R - (l * <span class="mi">2</span> ^ l)%:R +
 (((<span class="mi">2</span> ^ l * (n - Œîl).+<span class="mi">1</span>).-<span class="mi">1</span> + œï(Œîl))%:R -
  (l * <span class="mi">2</span> ^ l)%:R))%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk374" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk374"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk375" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk375"><span class="highlight"><span class="nb">rewrite</span> -!subn1 ![<span class="kr">in</span> RHS](natrD, natrM, natrB) <span class="nl">?muln_gt0</span> <span class="nl">?expn_gt0</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ l)%:R * (m - <span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R)%R =
((<span class="mi">2</span> ^ l)%:R - <span class="mi">1</span>%:R - l%:R * (<span class="mi">2</span> ^ l)%:R +
 ((<span class="mi">2</span> ^ l)%:R * (n - Œîl).+<span class="mi">1</span>%:R - <span class="mi">1</span>%:R + œï(Œîl)%:R -
  l%:R * (<span class="mi">2</span> ^ l)%:R))%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk376" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk376"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk377" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk377"><span class="highlight"><span class="nb">rewrite</span> pdE !addrA addrK; <span class="nb">set</span> u := (<span class="mi">2</span> ^ l)%:R%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">((<span class="mi">2</span> ^ l)%:R)%R</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Num.NumDomain.porder_ringType int_numDomainType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(u * (m - <span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R)%R =
(u - <span class="mi">1</span>%:R - l%:R * u + u * (n - Œîl).+<span class="mi">1</span>%:R +
 (l%:R - <span class="mi">1</span>) * u - l%:R * u)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk378" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk378"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk379" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk379"><span class="highlight"><span class="nb">rewrite</span> [(u - <span class="mi">1</span>)%R]addrC -![<span class="kr">in</span> RHS]addrA [RHS]addrC; <span class="nb">congr</span> (_ - _)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">((<span class="mi">2</span> ^ l)%:R)%R</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Num.NumDomain.porder_ringType int_numDomainType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(u * (m - <span class="mi">1</span> + p)%:R)%R =
(u +
 (- (l%:R * u) +
  (u * (n - Œîl).+<span class="mi">1</span>%:R + ((l%:R - <span class="mi">1</span>) * u - l%:R * u))))%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk37a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk37a"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk37b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk37b"><span class="highlight"><span class="nb">rewrite</span> -{<span class="mi">2</span>}[u]mul1r ![(u * _)%R]mulrC -![(-(_ * u))%R]mulNr -!mulrDl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">((<span class="mi">2</span> ^ l)%:R)%R</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Num.NumDomain.porder_ringType int_numDomainType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((m - <span class="mi">1</span> + p)%:R * u)%R =
((<span class="mi">1</span> + (<span class="mi">1</span> *- l + ((n - Œîl).+<span class="mi">1</span>%:R + (l%:R - <span class="mi">1</span> - l%:R)))) *
 u)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk37c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk37c"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk37d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk37d"><span class="highlight"><span class="nb">congr</span> (_ * _)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">u</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">((<span class="mi">2</span> ^ l)%:R)%R</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Num.NumDomain.porder_ringType int_numDomainType</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((m - <span class="mi">1</span> + p)%:R)%R =
(<span class="mi">1</span> + (<span class="mi">1</span> *- l + ((n - Œîl).+<span class="mi">1</span>%:R + (l%:R - <span class="mi">1</span> - l%:R))))%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk37e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk37e"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk37f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk37f"><span class="highlight"><span class="nb">rewrite</span> {u}!addrA addrAC addrK.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((m - <span class="mi">1</span> + p)%:R)%R = (<span class="mi">1</span> - l%:R + (n - Œîl).+<span class="mi">1</span>%:R - <span class="mi">1</span>)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk380" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk380"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk381" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk381"><span class="highlight"><span class="nb">rewrite</span> -[(_ - _).+<span class="mi">1</span>]addn1 [<span class="kr">in</span> RHS]natrD !addrA addrK.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((m - <span class="mi">1</span> + p)%:R)%R = (<span class="mi">1</span> - l%:R + (n - Œîl)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk382" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk382"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk383" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk383"><span class="highlight"><span class="nb">rewrite</span> -[n]/(n.+<span class="mi">3</span>.-<span class="mi">2</span>.-<span class="mi">1</span>) [n.+<span class="mi">3</span>]tmodE -/m -/p.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((m - <span class="mi">1</span> + p)%:R)%R =
(<span class="mi">1</span> - l%:R + ((Œîm + p).-<span class="mi">1</span>.-<span class="mi">2</span> - Œîl)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk384" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk384"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk385" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk385"><span class="highlight"><span class="nb">rewrite</span> -[<span class="kr">in</span> RHS](subnK mG2) ![<span class="kr">in</span> RHS](addnS, addn0) !deltaS !(subnS, subn0).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((m.-<span class="mi">1</span> + p)%:R)%R =
(<span class="mi">1</span> - l%:R +
 ((Œîm.-<span class="mi">2</span> + m.-<span class="mi">2</span>.+<span class="mi">1</span> + m.-<span class="mi">2</span>.+<span class="mi">2</span> + p).-<span class="mi">1</span>.-<span class="mi">2</span> - Œîl)%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk386" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk386"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk387" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk387"><span class="highlight"><span class="nb">rewrite</span> ![<span class="kr">in</span> RHS](addnS, addSn) -!addnA [(delta _ + _)%nat]addnC addnK -/l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((m.-<span class="mi">1</span> + p)%:R)%R = (<span class="mi">1</span> - l%:R + (l + (l + p))%:R)%R</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk388" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk388"><hr></label><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk389" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk389"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> ![<span class="kr">in</span> RHS]natrD !addrA subrK /l -(natrD _ <span class="mi">1</span>%nat) -natrD.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(œï(n.+<span class="mi">3</span>)%:R)%R =
(((<span class="mi">2</span> ^ l)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight"><span class="c">(* left part *)</span>
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk38a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk38a"><span class="highlight"><span class="nb">rewrite</span> pE /l.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">mG2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight"><span class="mi">1</span> &lt; m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span>%:R)%R =
(((<span class="mi">2</span> ^ m.-<span class="mi">2</span>)%:R * (m.-<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk38b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk38b"><span class="highlight"><span class="nb">case</span>: (m) mG2 =&gt; // [] [|m1] //= _.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((m1.+<span class="mi">2</span> + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m1.+<span class="mi">2</span>).+<span class="mi">1</span>%:R)%R =
(((<span class="mi">2</span> ^ m1)%:R * (m1.+<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk38c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk38c"><span class="highlight"><span class="nb">rewrite</span> addSn subn1 /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((m1.+<span class="mi">1</span> + p) * <span class="mi">2</span> ^ m1.+<span class="mi">2</span>).+<span class="mi">1</span>%:R)%R =
(((<span class="mi">2</span> ^ m1)%:R * (m1.+<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R) *+ <span class="mi">4</span> + <span class="mi">5</span>%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk38d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk38d"><span class="highlight"><span class="nb">rewrite</span> (_ : <span class="mi">5</span>%:R = <span class="mi">1</span> *+ <span class="mi">4</span> + <span class="mi">1</span>)%R // addrA -mulrnDl.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((m1.+<span class="mi">1</span> + p) * <span class="mi">2</span> ^ m1.+<span class="mi">2</span>).+<span class="mi">1</span>%:R)%R =
(((<span class="mi">2</span> ^ m1)%:R * (m1.+<span class="mi">1</span> + p)%:R - <span class="mi">1</span>%:R + <span class="mi">1</span>) *+ <span class="mi">4</span> + <span class="mi">1</span>)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk38e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk38e"><span class="highlight"><span class="nb">rewrite</span> subrK -addn1 natrD; <span class="nb">congr</span> (_ + _)%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(((m1.+<span class="mi">1</span> + p) * <span class="mi">2</span> ^ m1.+<span class="mi">2</span>)%:R)%R =
((<span class="mi">2</span> ^ m1)%:R * (m1.+<span class="mi">1</span> + p)%:R *+ <span class="mi">4</span>)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk38f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk38f"><span class="highlight"><span class="nb">rewrite</span> -[<span class="kr">in</span> RHS]mulr_natr -!natrM [<span class="kr">in</span> RHS]mulnAC mulnC.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">((<span class="mi">2</span> ^ m1.+<span class="mi">2</span> * (m1.+<span class="mi">1</span> + p))%:R)%R =
((<span class="mi">2</span> ^ m1 * <span class="mi">4</span> * (m1.+<span class="mi">1</span> + p))%:R)%R</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk390" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk390"><span class="highlight"><span class="nb">congr</span> (_ * _)%:R%R.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">e1, e2</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{fset nat}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">#|` e1 `|` e2|</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">‚àán.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">p</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">tmod n.+<span class="mi">3</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">l</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight">m.-<span class="mi">2</span></span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pLm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">p &lt;= m</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">nG</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">Œîl &lt;= n</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">œï(n.+<span class="mi">3</span>) = ((m + p - <span class="mi">1</span>) * <span class="mi">2</span> ^ m).+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">pdE</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">(œï(Œîl)%:R)%R = (<span class="mi">1</span> + (l%:R - <span class="mi">1</span>) * (<span class="mi">2</span> ^ l)%:R)%R</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">f</span><span><span class="hyp-body-block"><span class="hyp-punct">:=</span><span class="hyp-body"><span class="highlight"><span class="kr">fun</span> <span class="nv">i</span> : nat =&gt; <span class="mi">2</span> ^ minn (‚àái) l</span></span></span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat -&gt; nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">m1</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="mi">2</span> ^ m1.+<span class="mi">2</span> = <span class="mi">2</span> ^ m1 * <span class="mi">4</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> mulnC !expnS !mulnA.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk391" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk391"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">phi_3_5_4_phi</span> <span class="nv">n</span> : phi (n.+<span class="mi">3</span>) = (psi `[n.+<span class="mi">2</span>]).*<span class="mi">2</span>.+<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(n.+<span class="mi">3</span>) = œà(`[n.+<span class="mi">2</span>]).*<span class="mi">2</span>.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk392" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk392"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(n.+<span class="mi">3</span>) = œà(`[n.+<span class="mi">2</span>]).*<span class="mi">2</span>.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> psi_sint_phi prednK <span class="nl">?phi_gt0</span>.</span></span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk393" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk393"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">phi_3_5_4_sum</span> <span class="nv">n</span> :
   phi (n.+<span class="mi">3</span>) = (\sum_(<span class="mi">1</span> &lt;= i &lt; n.+<span class="mi">3</span>) <span class="mi">2</span> ^ troot i).+<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(n.+<span class="mi">3</span>) = (\sum_(<span class="mi">1</span> &lt;= i &lt; n.+<span class="mi">3</span>) <span class="mi">2</span> ^ ‚àái).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk394" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk394"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">œï(n.+<span class="mi">3</span>) = (\sum_(<span class="mi">1</span> &lt;= i &lt; n.+<span class="mi">3</span>) <span class="mi">2</span> ^ ‚àái).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk395" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk395"><span class="highlight"><span class="nb">rewrite</span> phiE.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(i &lt; n.+<span class="mi">3</span>) <span class="mi">2</span> ^ ‚àái =
(\sum_(<span class="mi">1</span> &lt;= i &lt; n.+<span class="mi">3</span>) <span class="mi">2</span> ^ ‚àái).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk396" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk396"><span class="highlight"><span class="nb">rewrite</span> -(big_mkord xpredT (<span class="kr">fun</span> <span class="nv">i</span> =&gt; <span class="mi">2</span> ^ troot i)).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">\sum_(<span class="mi">0</span> &lt;= i &lt; n.+<span class="mi">3</span>) <span class="mi">2</span> ^ ‚àái =
(\sum_(<span class="mi">1</span> &lt;= i &lt; n.+<span class="mi">3</span>) <span class="mi">2</span> ^ ‚àái).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk397" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk397"><span class="highlight"><span class="nb">rewrite</span> (big_cat_nat _ _ _ (_ : <span class="mi">0</span> &lt;= <span class="mi">1</span>)) //=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(\sum_(<span class="mi">0</span> &lt;= i &lt; <span class="mi">1</span>) <span class="mi">2</span> ^ ‚àái +
 \sum_(<span class="mi">1</span> &lt;= i &lt; n.+<span class="mi">3</span>) <span class="mi">2</span> ^ ‚àái)%N =
(\sum_(<span class="mi">1</span> &lt;= i &lt; n.+<span class="mi">3</span>) <span class="mi">2</span> ^ ‚àái).+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> big_nat_recl //= big_mkord big_ord0 addn0 add1n.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">End</span> <span class="nf">PsiDef</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk398" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk398"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">ltn_diff_ord_max</span> <span class="nv">n</span> (<span class="nv">i</span> : &#39;I_n.+<span class="mi">2</span>) : i != ord_max -&gt; i &lt; n.+<span class="mi">1</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i != ord_max -&gt; i &lt; n.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk399" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk399"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i != ord_max -&gt; i &lt; n.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk39a" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk39a"><span class="highlight"><span class="nb">move</span>/eqP/val_eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val i != val ord_max -&gt; i &lt; n.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">have</span> := ltn_ord i; <span class="nb">rewrite</span> ltnS leq_eqVlt =&gt; /orP[-&gt;|].</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk39b" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk39b"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">lift_diff_ord_max</span> <span class="nv">n</span> (<span class="nv">i</span> : &#39;I_n.+<span class="mi">2</span>) :
  i != ord_max -&gt; lift ord_max (inord i) = i.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i != ord_max -&gt; lift ord_max (inord i) = i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk39c" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk39c"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i != ord_max -&gt; lift ord_max (inord i) = i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk39d" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk39d"><span class="highlight"><span class="nb">move</span>=&gt; iDm.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iDm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i != ord_max</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lift ord_max (inord i) = i</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk39e" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk39e"><span class="highlight"><span class="nb">apply</span>/val_eqP; <span class="nb">rewrite</span> [val (lift _ _)]lift_max /= <span class="nl">?inordK</span> //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">&#39;I_n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iDm</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i != ord_max</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i &lt; n.+<span class="mi">1</span></span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">apply</span>: ltn_diff_ord_max.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp"><span class="highlight">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk39f" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk39f"><span class="highlight"><span class="kn">Lemma</span> <span class="nf">set_ord_max_lift</span> <span class="nv">n</span> (<span class="nv">e</span> : {<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}) :
  e :\ ord_max = [<span class="nb">set</span> lift ord_max x | x <span class="kr">in</span> [<span class="nb">set</span> i | lift ord_max i \<span class="kr">in</span> e]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e :\ ord_max =
[<span class="nb">set</span> lift ord_max x
   | x : ordinal_finType n.+<span class="mi">2</span>.-<span class="mi">1</span>
   &amp; lift ord_max x \<span class="kr">in</span> e]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3a0" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3a0"><span class="highlight"><span class="kn">Proof</span>.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">e :\ ord_max =
[<span class="nb">set</span> lift ord_max x
   | x : ordinal_finType n.+<span class="mi">2</span>.-<span class="mi">1</span>
   &amp; lift ord_max x \<span class="kr">in</span> e]</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3a1" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3a1"><span class="highlight"><span class="nb">apply</span>/setP =&gt; i; <span class="nb">rewrite</span> !inE /=.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">(i != ord_max) &amp;&amp; (i \<span class="kr">in</span> e) =
(i
   \<span class="kr">in</span> [<span class="nb">set</span> lift ord_max x
          | x : &#39;I_n.+<span class="mi">1</span>
          &amp; lift ord_max x \<span class="kr">in</span> e])</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3a2" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3a2"><span class="highlight"><span class="nb">apply</span>/andP/imsetP =&gt; [[iH iIe]|[j //]].</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i != ord_max</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight"><span class="kr">exists2</span> x : ordinal_finType n.+<span class="mi">1</span>,
  x \<span class="kr">in</span> [<span class="nb">set</span> i | lift ord_max i \<span class="kr">in</span> e] &amp;
  i = lift ord_max x</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk3a3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk3a3"><hr></label><div class="goal-conclusion"><span class="highlight">j \<span class="kr">in</span> [<span class="nb">set</span> i | lift ord_max i \<span class="kr">in</span> e] -&gt;
i = lift ord_max j -&gt; i != ord_max /\ i \<span class="kr">in</span> e</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3a4" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3a4"><span class="highlight"><span class="kr">exists</span> (<span class="nv">inord</span> <span class="nv">i</span>).</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i != ord_max</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">inord i \<span class="kr">in</span> [<span class="nb">set</span> i | lift ord_max i \<span class="kr">in</span> e]</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk3a5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i != ord_max</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk3a5"><hr></label><div class="goal-conclusion"><span class="highlight">i = lift ord_max (inord i)</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="psi-v-chk3a6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk3a6"><hr></label><div class="goal-conclusion"><span class="highlight">j \<span class="kr">in</span> [<span class="nb">set</span> i | lift ord_max i \<span class="kr">in</span> e] -&gt;
i = lift ord_max j -&gt; i != ord_max /\ i \<span class="kr">in</span> e</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3a7" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3a7"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> inE lift_diff_ord_max.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i != ord_max</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">iIe</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">i \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">i = lift ord_max (inord i)</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="psi-v-chk3a8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">1</span></span></span></span></span></div></div><label class="goal-separator alectryon-extra-goal-label" for="psi-v-chk3a8"><hr></label><div class="goal-conclusion"><span class="highlight">j \<span class="kr">in</span> [<span class="nb">set</span> i | lift ord_max i \<span class="kr">in</span> e] -&gt;
i = lift ord_max j -&gt; i != ord_max /\ i \<span class="kr">in</span> e</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3a9" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3a9"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> lift_diff_ord_max.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">1</span></span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">j \<span class="kr">in</span> [<span class="nb">set</span> i | lift ord_max i \<span class="kr">in</span> e] -&gt;
i = lift ord_max j -&gt; i != ord_max /\ i \<span class="kr">in</span> e</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3aa" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3aa"><span class="highlight"><span class="nb">rewrite</span> inE =&gt; kH -&gt;; <span class="nb">split</span> =&gt; //.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">kH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lift ord_max j \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">lift ord_max j != ord_max</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="psi-v-chk3ab" style="display: none" type="checkbox"><label class="alectryon-input" for="psi-v-chk3ab"><span class="highlight"><span class="nb">apply</span>/eqP/val_eqP.</span></label><small class="alectryon-output"><div class="alectryon-output-sticky-wrapper"><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><div class="goal-hyp"><span class="hyp-names">n</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">nat</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">e</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">{<span class="nb">set</span> &#39;I_n.+<span class="mi">2</span>}</span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">i</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">2</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">j</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">ordinal_finType n.+<span class="mi">1</span></span></span></span></span></div><div class="goal-hyp"><span class="hyp-names">kH</span><span><span class="hyp-type-block"><span class="hyp-punct">:</span><span class="hyp-type"><span class="highlight">lift ord_max j \<span class="kr">in</span> e</span></span></span></span></div></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="highlight">val (lift ord_max j) != val ord_max</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="bp">by</span> <span class="nb">rewrite</span> [val (lift _ _)]lift_max /= neq_ltn ltn_ord.</span></span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="highlight"><span class="kn">Qed</span>.</span></span></span></pre></article></body></html>